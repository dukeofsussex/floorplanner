{"version":3,"sources":["webpack:///./src/models/util.js","webpack:///./src/models/area.js","webpack:///./src/models/floor.js","webpack:///./src/models/floorplan.js","webpack:///./src/models/point.js","webpack:///./src/storage.js","webpack:///./src/components/floor-graph/floor-graph.component.js","webpack:///./src/components/floor-graph/floor-graph.component.vue?bce4","webpack:///./src/components/floor-graph/floor-graph.component.vue","webpack:///./src/components/summernote/summernote.component.js","webpack:///./src/components/summernote/summernote.component.vue?ad25","webpack:///./src/components/summernote/summernote.component.vue","webpack:///./src/app.component.js","webpack:///./src/app.component.vue?791f","webpack:///./src/app.component.vue","webpack:///./src/main.js"],"names":["generateUID","possible","text","i","charAt","Math","floor","random","length","Area","_ref","arguments","undefined","_ref$name","name","_ref$description","description","_ref$hoverDescription","hoverDescription","_ref$points","points","classCallCheck_default","this","uid","Floor","_ref$image","image","_ref$areas","areas","Floorplan","_ref$floors","floors","Point","x","y","Storage","localStorageKey","localStorage","getItem","floorplan","JSON","parse","floorplanString","saveToLocalStorage","stringify_default","deleteLocalStorage","setItem","removeItem","MARGIN","floor_graph_component","data","drawingPoints","props","mounted","init","drawAreas","watch","handler","newFloor","oldFloor","reflectChanges","deep","editing","selectedArea","methods","self","svg","d3","$refs","dimensions","node","getBoundingClientRect","width","height","attr","graph","append","on","addPolygonPoint","draw","polygonDrawingGroup","select","remove","areasGroup","tooltip","style","coords","newPoint","models_point","round","index","shortestDistance","distance","distanceFromLine","intersectionPoint","getClosestPointOnLine","pointIsBetween","concat","toConsumableArray_default","slice","push","_this","target","hasAttribute","closePolygon","map","p","join","circles","selectAll","d","enter","exit","models_area","onAreaSelection","_this2","individualAreaGroup","merge","polygon","hoverDesc","j","stopPropagation","parentNode","datum","html","clientX","clientY","c","parentAreaPoints","findIndex","splice","call","classed","point","lineStartPoint","lineEndPoint","sqrt","pow","abs","floor_graph_floor_graph_component","render","_h","$createElement","_self","_c","ref","attrs","id","viewBox","staticRenderFns","components_floor_graph_floor_graph_component","__webpack_require__","normalizeComponent","ssrContext","summernote_component","String","content","default","type","Number","toolbar","Array","onBlur","Function","options","focus","callbacks","evt","$","summernote","beforeDestroy","summernote_summernote_component","components_summernote_summernote_component","summernote_component_normalizeComponent","app_component","components","draggable","vuedraggable_default","a","FontAwesomeIcon","vue_fontawesome_default","FloorGraph","Summernote","computed","canGoDownALevel","selectedFloorIndex","canGoUpALevel","areaSelected","storage","selectedAreaIndex","showImageInputField","getFloorplan","addFloor","resetSelectedArea","updateFloorplan","selectFloor","changeFloorOrder","moved","oldIndex","newIndex","deleteArea","deleteFloor","newFloorIndex","download","element","document","createElement","setAttribute","encodeURIComponent","export","exportName","display","body","appendChild","click","removeChild","newFloorplan","deleteFloorplan","addFloorplan","selectArea","area","toggleEditMode","toggleImageInputField","upload","$event","console","log","event","files","file","fileReader","FileReader","onload","import","result","fileImportForm","reset","readAsText","value","selectortype_template_index_0_src_app_component","_vm","staticClass","href","_v","role","data-toggle","aria-haspopup","aria-expanded","aria-labelledby","icon","data-target","fileImport","accept","change","class","disabled","_m","_e","directives","rawName","expression","_s","modifiers","lazy","placeholder","aria-label","domProps","blur","$set","inactive","src","innerHTML","for","input","composing","tabindex","aria-hidden","model","callback","$$v","_l","listFloor","key","title","colspan","data-dismiss","rows","src_app_component","app_component_normalizeComponent","window","jquery_default","jQuery","index_es","library","add","free_solid_svg_icons_index_es","vue_runtime_esm","config","productionTip","el","h"],"mappings":"6UACO,SAASA,IAIZ,IAHA,IAAMC,EAAW,iEACbC,EAAO,GAEFC,EAAI,EAAGA,EAAI,EAAGA,GAAK,EACxBD,GAAQD,EAASG,OAAOC,KAAKC,MAAMD,KAAKE,SAAWN,EAASO,SAGhE,OAAON,QCNP,SAAAO,IAAsF,IAAAC,EAAAC,UAAAH,OAAA,QAAAI,IAAAD,UAAA,GAAAA,UAAA,MAAAE,EAAAH,EAAxEI,YAAwEF,IAAAC,EAAjE,GAAiEA,EAAAE,EAAAL,EAA7DM,mBAA6DJ,IAAAG,EAA/C,GAA+CA,EAAAE,EAAAP,EAA3CQ,wBAA2CN,IAAAK,EAAxB,GAAwBA,EAAAE,EAAAT,EAApBU,cAAoBR,IAAAO,OAAAE,IAAAC,KAAAb,GAClFa,KAAKC,IAAMvB,IACXsB,KAAKR,KAAOA,EACZQ,KAAKN,YAAcA,EACnBM,KAAKJ,iBAAmBA,EACxBI,KAAKF,OAASA,KCLlB,SAAAI,IAA0E,IAAAd,EAAAC,UAAAH,OAAA,QAAAI,IAAAD,UAAA,GAAAA,UAAA,MAAAc,EAAAf,EAA5DgB,aAA4Dd,IAAAa,EAApD,GAAoDA,EAAAZ,EAAAH,EAAhDI,YAAgDF,IAAAC,EAAzC,GAAyCA,EAAAE,EAAAL,EAArCM,mBAAqCJ,IAAAG,EAAvB,GAAuBA,EAAAY,EAAAjB,EAAnBkB,aAAmBhB,IAAAe,OAAAN,IAAAC,KAAAE,GACtEF,KAAKC,IAAMvB,IACXsB,KAAKI,MAAQA,EACbJ,KAAKR,KAAOA,EACZQ,KAAKN,YAAcA,EACnBM,KAAKM,MAAQA,KCPjB,SAAAC,IAA+D,IAAAnB,EAAAC,UAAAH,OAAA,QAAAI,IAAAD,UAAA,GAAAA,UAAA,MAAAE,EAAAH,EAAjDI,YAAiDF,IAAAC,EAA1C,GAA0CA,EAAAE,EAAAL,EAAtCM,mBAAsCJ,IAAAG,EAAxB,GAAwBA,EAAAe,EAAApB,EAApBqB,cAAoBnB,IAAAkB,OAAAT,IAAAC,KAAAO,GAC3DP,KAAKR,KAAOA,EACZQ,KAAKN,YAAcA,EACnBM,KAAKS,OAASA,KCHlB,SAAAC,EAAYC,EAAGC,GAAGb,IAAAC,KAAAU,GACdV,KAAKW,EAAIA,EACTX,KAAKY,EAAIA,0DC2Bb,SAAAC,IAAcd,IAAAC,KAAAa,GACVb,KAAKc,gBAAkB,yBAE4B,OAA/CC,aAAaC,QAAQhB,KAAKc,iBAC1Bd,KAAKiB,UAAY,KAEjBjB,KAAKiB,UAAYC,KAAKC,MAAMJ,aAAaC,QAAQhB,KAAKc,6DAIvDM,GAEHpB,KAAKiB,UAAYC,KAAKC,MAAMC,GAC5BpB,KAAKqB,sDAIL,OAAOC,IAAetB,KAAKiB,gDAGlBA,GACTjB,KAAKiB,UAAYA,EACjBjB,KAAKqB,4DAIL,OAAOrB,KAAKiB,kDAGAA,GACZjB,KAAKiB,UAAYA,EACjBjB,KAAKqB,+DAILrB,KAAKiB,UAAY,KACjBjB,KAAKuB,kEAILR,aAAaS,QAAQxB,KAAKc,gBAAiBQ,IAAetB,KAAKiB,yDAI/DF,aAAaU,WAAWzB,KAAKc,2DCvE/BY,EACG,EADHA,EAEK,EAFLA,EAGM,EAHNA,EAII,EAGVC,GACInC,KAAM,aACNoC,KAAM,WACF,OACIC,mBAGRC,OAAQ,UAAW,QAAS,eAAgB,mBAC5CC,QAAS,WACL/B,KAAKgC,OACLhC,KAAKiC,UAAUjC,KAAKhB,MAAMsB,QAE9B4B,OACIlD,OACImD,QAAS,SAAUC,EAAUC,GACrBD,EAAS9B,OAAS8B,EAAS9B,MAAMpB,OAAS,IAC1Cc,KAAKsC,iBACLtC,KAAKiC,UAAUG,EAAS9B,SAGhCiC,MAAM,GAEVC,QAAS,WACLxC,KAAKsC,iBACLtC,KAAKiC,UAAUjC,KAAKM,QAExBmC,aAAc,WACVzC,KAAKsC,iBACLtC,KAAKiC,UAAUjC,KAAKM,SAG5BoC,SACIV,KAAM,WACF,IAAMW,EAAO3C,KAEP4C,EAAMC,EAAA,EAAU7C,KAAK8C,MAAM9D,OAEjCgB,KAAK+C,WAAaH,EAAII,OAAOC,wBAE7BjD,KAAKkD,MAAQlD,KAAK+C,WAAWG,MAAQxB,EAAcA,EACnD1B,KAAKmD,OAASnD,KAAK+C,WAAWI,OAASzB,EAAaA,EAEpDkB,EAAIQ,KAAK,QAASpD,KAAKkD,MAAQxB,EAAcA,GACxC0B,KAAK,SAAUpD,KAAKmD,OAASzB,EAAaA,GAE/C1B,KAAKqD,MAAQT,EAAIU,OAAO,KACnBF,KAAK,YADG,aACuB1B,EADvB,KACuCA,EADvC,KAGb1B,KAAKqD,MAAMC,OAAO,QACbF,KAAK,QAAS,QACdA,KAAK,SAAU,QACfA,KAAK,OAAQ,eAElBpD,KAAKqD,MAAME,GAAG,QAAS,WACW,KAA1BZ,EAAKF,aAAaxC,KAAc0C,EAAKH,QACrCG,EAAKa,gBAAgBX,EAAA,EAAS7C,OACvB2C,EAAKH,SACZG,EAAKc,KAAKZ,EAAA,EAAS7C,SAExBuD,GAAG,YAAa,WACe,KAA1BZ,EAAKF,aAAaxC,KAA4C,IAA9B0C,EAAKd,cAAc3C,QAAiByD,EAAKH,UAI7EG,EAAKe,oBAAoBC,OAAO,QAAQC,SAExCjB,EAAKe,oBAAoBJ,OAAO,QAC3BF,KAAK,KAAMT,EAAKd,cAAcc,EAAKd,cAAc3C,OAAS,GAAGyB,GAC7DyC,KAAK,KAAMT,EAAKd,cAAcc,EAAKd,cAAc3C,OAAS,GAAG0B,GAC7DwC,KAAK,KAAMP,EAAA,EAAS7C,MAAM,IAC1BoD,KAAK,KAAMP,EAAA,EAAS7C,MAAM,OAGnCA,KAAK0D,oBAAsB1D,KAAKqD,MAAMC,OAAO,KACxCF,KAAK,QAAS,mBAEnBpD,KAAK6D,WAAa7D,KAAKqD,MAAMC,OAAO,KAC/BF,KAAK,QAAS,SAEnBpD,KAAK8D,QAAUjB,EAAA,EAAU,QACpBS,OAAO,OACPF,KAAK,KAAM,WACXA,KAAK,QAAS,QACdW,MAAM,UAAW,IAE1BP,gBAAiB,SAAUQ,GACvB,IAAMC,EAAW,IAAIC,EAAMnF,KAAKoF,MAAMH,EAAO,IAAKjF,KAAKoF,MAAMH,EAAO,KAChEI,EAAQ,EACRC,EAAmBrE,KAAKkD,MAE5B,GAAIlD,KAAKyC,aAAa3C,OAAOZ,OAAS,EAAG,CACrC,IAAK,IAAIL,EAAI,EAAGA,EAAImB,KAAKyC,aAAa3C,OAAOZ,OAAQL,GAAK,EAAG,CACzD,IAAMyF,EAAWtE,KAAKuE,iBAAiBN,EAAUjE,KAAKyC,aAAa3C,OAAOjB,EAAI,GAAImB,KAAKyC,aAAa3C,OAAOjB,IACrG2F,EAAoBxE,KAAKyE,sBAAsBR,EAAUjE,KAAKyC,aAAa3C,OAAOjB,EAAI,GAAImB,KAAKyC,aAAa3C,OAAOjB,IAErHyF,EAAWD,GAAoBrE,KAAK0E,eAAeF,EAAmBxE,KAAKyC,aAAa3C,OAAOjB,EAAI,GAAImB,KAAKyC,aAAa3C,OAAOjB,MAChIuF,EAAQvF,EACRwF,EAAmBC,GAI3B,IAAMA,EAAWtE,KAAKuE,iBAAiBN,EAAUjE,KAAKyC,aAAa3C,OAAOE,KAAKyC,aAAa3C,OAAOZ,OAAS,GAAIc,KAAKyC,aAAa3C,OAAO,IACnI0E,EAAoBxE,KAAKyE,sBAC3BR,EACAjE,KAAKyC,aAAa3C,OAAOE,KAAKyC,aAAa3C,OAAOZ,OAAS,GAC3Dc,KAAKyC,aAAa3C,OAAO,IAEzBwE,EAAWD,GACRrE,KAAK0E,eAAeF,EAAmBxE,KAAKyC,aAAa3C,OAAOE,KAAKyC,aAAa3C,OAAOZ,OAAS,GAAIc,KAAKyC,aAAa3C,OAAO,MAClIsE,EAAQpE,KAAKyC,aAAa3C,OAAOZ,OACjCmF,EAAmBC,GAGvBtE,KAAKyC,aAAa3C,UAAlB6E,OAAAC,IACO5E,KAAKyC,aAAa3C,OAAO+E,MAAM,EAAGT,KACrCH,GAFJW,IAGO5E,KAAKyC,aAAa3C,OAAO+E,MAAMT,UAGtCpE,KAAKyC,aAAa3C,OAAOgF,KAAKb,GAGlCjE,KAAKiC,UAAUjC,KAAKM,MAAON,KAAKwC,UAEpCiB,KAAM,SAAUO,GAAQ,IAAAe,EAAA/E,KACpB,GAAI6C,EAAA,EAASmC,OAAOC,aAAa,aAC7BjF,KAAKkF,mBADT,CAKAlF,KAAK6B,cAAciD,KAAK,IAAIZ,EAAMnF,KAAKoF,MAAMH,EAAO,IAAKjF,KAAKoF,MAAMH,EAAO,MAE3EhE,KAAK0D,oBAAoBC,OAAO,QAAQC,SACxC5D,KAAK0D,oBAAoBC,OAAO,YAAYC,SAC5C5D,KAAK0D,oBAAoBJ,OAAO,YAC3BF,KAAK,SAAU,kBAAM2B,EAAKlD,cAAcsD,IAAI,SAAAC,GAAA,OAAMA,EAAEzE,EAAGyE,EAAExE,GAAGyE,KAAK,OAAMA,KAAK,OAEjF,IAAMC,EAAUtF,KAAK0D,oBAChB6B,UAAU,UACV3D,KAAK5B,KAAK6B,cAAe,SAAA2D,GAAA,OAAQA,EAAE7E,EAAV,IAAe6E,EAAE5E,IAE/C0E,EAAQG,QACHnC,OAAO,UACPF,KAAK,KAAM,SAACoC,EAAG3G,GAAJ,OAAUkG,EAAKlD,cAAchD,GAAG8B,IAC3CyC,KAAK,KAAM,SAACoC,EAAG3G,GAAJ,OAAUkG,EAAKlD,cAAchD,GAAG+B,IAC3CwC,KAAK,IAAK,GACVA,KAAK,YAAa,QAEvBkC,EAAQI,OAAO9B,WAEnBsB,aAAc,WACVlF,KAAKM,MAAMwE,KAAK,IAAIa,GAAO7F,OAAQE,KAAK6B,iBACxC7B,KAAK0D,oBAAoB6B,UAAU,KAAK3B,SACxC5D,KAAK6B,iBACL7B,KAAKiC,UAAUjC,KAAKM,MAAON,KAAKwC,SAChCxC,KAAK4F,gBAAgB5F,KAAKM,MAAMN,KAAKM,MAAMpB,OAAS,KAExD+C,UAAW,SAAU3B,GAAO,IAAAuF,EAAA7F,KAClB2C,EAAO3C,KACbA,KAAKM,MAAQA,EAEb,IAAMuD,EAAa7D,KAAK6D,WAAW0B,UAAU,UACxC3D,KAAKtB,EAAO,SAAAkF,GAAA,OAAKA,EAAEvF,MAExB4D,EAAW6B,OAAO9B,SAElB,IAAMkC,EAAsBjC,EAAW4B,QAClCnC,OAAO,KACPyC,MAAMlC,GACNT,KAAK,QAAS,QAEb4C,EAAUF,EAAoBP,UAAU,WACzC3D,KAAK,SAAA4D,GAAA,QAAQvF,IAAKuF,EAAEvF,IAAKT,KAAMgG,EAAEhG,KAAMyG,UAAWT,EAAE5F,iBAAkBE,OAAQ0F,EAAE1F,WAErFkG,EAAQN,OAAO9B,SAEfoC,EAAQP,QACHnC,OAAO,WACPyC,MAAMC,GACN5C,KAAK,SAAU,SAAAoC,GAAA,OAAKA,EAAE1F,OAAOqF,IAAI,SAAAC,GAAA,OAAMA,EAAEzE,EAAGyE,EAAExE,GAAGyE,KAAK,OAAMA,KAAK,OACjEjC,KAAK,QAAS,SAAAoC,GAEX,OADsBA,EAAEvF,MAAQ4F,EAAKpD,aAAaxC,IAC3B,SAAW,KAErCsD,GAAG,QAAS,SAACiC,EAAG3G,EAAGqH,GAChBrD,EAAA,EAASsD,kBACTN,EAAK5D,UAAU3B,EAAOuF,EAAKrD,SAC3BqD,EAAKD,gBAAgB/C,EAAA,EAAUqD,EAAErH,GAAGuH,YAAYC,WAEnD9C,GAAG,YAAa,SAACiC,GACVK,EAAKrD,UAITqD,EAAK/B,QAAQwC,KAAb,OAAyBd,EAAEhG,KAA3B,QAAuCgG,EAAES,WACzCJ,EAAK/B,QAAQC,MAAM,UAAW,MAEjCR,GAAG,YAAa,WACTvD,KAAKwC,SAITG,EAAKmB,QAAQC,MAAM,OAAWlB,EAAA,EAAS0D,QAAU,GAAjD,MACKxC,MAAM,MAAUlB,EAAA,EAAS2D,QAAU,GADxC,QAGHjD,GAAG,WAAY,WACRsC,EAAKrD,SAITqD,EAAK/B,QAAQC,MAAM,UAAW,KAGtC,IAAMuB,EAAUQ,EAAoBP,UAAU,UACzC3D,KAAK,SAAA4D,GAEF,OADoBK,EAAKrD,SAAWgD,EAAEvF,MAAQ4F,EAAKpD,aAAaxC,IAC3CuF,EAAE1F,WACxB,SAAA2G,GAAA,OAAQA,EAAE9F,EAAV,IAAe8F,EAAE7F,IAExB0E,EAAQG,QACHnC,OAAO,UACPyC,MAAMT,GACNlC,KAAK,IAAK,GACVA,KAAK,KAAM,SAAAoC,GAAA,OAAKA,EAAE7E,IAClByC,KAAK,KAAM,SAAAoC,GAAA,OAAKA,EAAE5E,IAClBwC,KAAK,QAAS,UACdG,GAAG,QAAS,SAACiC,EAAG3G,EAAGqH,GAChBrD,EAAA,EAASsD,kBACT,IAAMO,EAAmB7D,EAAA,EAAUqD,EAAErH,GAAGuH,YAAYC,QAAQvG,OAG5D,GAAgC,IAA5B4G,EAAiBxH,OAArB,CAIA,IAAMkF,EAAQsC,EAAiBC,UAAU,SAAAvB,GAAA,OAAKA,EAAEzE,IAAM6E,EAAE7E,GAAKyE,EAAExE,IAAM4E,EAAE5E,IACvE8F,EAAiBE,OAAOxC,EAAO,GAE/ByB,EAAK5D,UAAU3B,EAAOuF,EAAKrD,YAE9BqE,KAAKhE,EAAA,IACDU,GAAG,QAAS,WACTV,EAAA,EAAU7C,MAAM8G,QAAQ,QAAQ,KAEnCvD,GAAG,OAAQ,SAAciC,GACtB,IAAMuB,EAAQvB,EACd3C,EAAA,EAAU7C,MACLoD,KAAK,KAAM2D,EAAMpG,EAAIkC,EAAA,EAASlC,GAC9ByC,KAAK,KAAM2D,EAAMnG,EAAIiC,EAAA,EAASjC,GACnC+B,EAAKV,UAAU3B,EAAOqC,EAAKH,WAE9Be,GAAG,MAAO,WACPV,EAAA,EAAU7C,MAAM8G,QAAQ,QAAQ,MAG5CxB,EAAQI,OAAO9B,UAEnBU,SAAU,SAAU0C,EAAgBC,GAChC,OAAOlI,KAAKmI,KAAKnI,KAAAoI,IAAEF,EAAatG,EAAIqG,EAAerG,EAAM,GAAxC5B,KAAAoI,IAA+CF,EAAarG,EAAIoG,EAAepG,EAAM,KAE1G2D,iBAAkB,SAAUwC,EAAOC,EAAgBC,GAC/C,OAAOlI,KAAKqI,KAAOH,EAAarG,EAAIoG,EAAepG,GAAKmG,EAAMpG,GACtDsG,EAAatG,EAAIqG,EAAerG,GAAKoG,EAAMnG,GAC3CqG,EAAatG,EAAIqG,EAAepG,EAC7BqG,EAAarG,EAAIoG,EAAerG,IACrCX,KAAKsE,SAAS0C,EAAgBC,IAExCvC,eAAgB,SAAUqC,EAAOC,EAAgBC,GAC7C,OAAQlI,KAAKoF,MAAMnE,KAAKsE,SAAS0C,EAAgBD,IAAUhI,KAAKoF,MAAMnE,KAAKsE,SAASyC,EAAOE,KACnFlI,KAAKoF,MAAMnE,KAAKsE,SAAS0C,EAAgBC,IAAiB,GAC1DlI,KAAKoF,MAAMnE,KAAKsE,SAAS0C,EAAgBD,IAAUhI,KAAKoF,MAAMnE,KAAKsE,SAASyC,EAAOE,KACnFlI,KAAKoF,MAAMnE,KAAKsE,SAAS0C,EAAgBC,IAAiB,GAEtExC,sBAAuB,SAAUsC,EAAOC,EAAgBC,GACpD,IAAM3C,IAAcyC,EAAMpG,EAAIqG,EAAerG,IAAMsG,EAAatG,EAAIqG,EAAerG,IAC3EoG,EAAMnG,EAAIoG,EAAepG,IAAMqG,EAAarG,EAAIoG,EAAepG,KAChE7B,KAAAoI,IAAEF,EAAatG,EAAIqG,EAAerG,EAAM,GAAxC5B,KAAAoI,IAA+CF,EAAarG,EAAIoG,EAAepG,EAAM,IAC5F,OACID,EAAGqG,EAAerG,EAAK2D,GAAY2C,EAAatG,EAAIqG,EAAerG,GACnEC,EAAGoG,EAAepG,EAAK0D,GAAY2C,EAAarG,EAAIoG,EAAepG,KAG3E0B,eAAgB,WACZtC,KAAK6B,iBACL7B,KAAK0D,oBACA6B,UAAU,KACV3B,YCrSjByD,GADiBC,OAFjB,WAA0B,IAAaC,EAAbvH,KAAawH,eAAkD,OAA/DxH,KAAuCyH,MAAAC,IAAAH,GAAwB,OAAiBI,IAAA,QAAAC,OAAmBC,GAAA,cAAAC,QAAA,kBAE5GC,oBCCjB,IAsBAC,EAtBAC,EAAA,OAaAC,CACAvG,EACA0F,GATA,EATA,SAAAc,GACAF,EAAA,SAYA,KAEA,MAUA,QCzBAG,GACI5I,KAAM,aACNsC,OACI+F,GAAIQ,OACJC,SACIC,QAAS,GACTC,KAAMH,QAEVlF,QACIoF,QAAS,KACTC,KAAMC,QAEVC,SACIH,QAAS,KACTC,KAAMG,OAEVC,OAAQC,UAEZ9G,QAAS,WAAY,IAAAgD,EAAA/E,KACX8I,GACF3F,OAAQnD,KAAKmD,OACb4F,OAAO,EACPC,WACIJ,OAAQ,SAACK,GAAD,OAASlE,EAAK6D,OAAO7D,EAAK8C,GAAIqB,EAAEnE,EAAKjC,MAAMqG,YAAYA,WAAW,QAASF,MAIvFjJ,KAAK0I,UACLI,EAAQJ,QAAU1I,KAAK0I,SAG3BQ,EAAElJ,KAAK8C,MAAMqG,YAAYA,WAAWL,GACpCI,EAAElJ,KAAK8C,MAAMqG,YAAYA,WAAW,OAAQnJ,KAAKsI,UAErDc,cAAe,WACXF,EAAElJ,KAAK8C,MAAMqG,YAAYA,WAAW,YAExCjH,OACIoG,QAAS,SAAUA,GACfY,EAAElJ,KAAK8C,MAAMqG,YAAYA,WAAW,OAAQb,MCpCxDe,GADiB/B,OAFjB,WAA0B,IAAaC,EAAbvH,KAAawH,eAAkD,OAA/DxH,KAAuCyH,MAAAC,IAAAH,GAAwB,OAAiBI,IAAA,gBAEzFI,oBCCjB,IAsBAuB,EAtBArB,EAAA,OAaAsB,CACAnB,EACAiB,GATA,EATA,SAAAlB,GACAF,EAAA,SAYA,KAEA,MAUA,QClBAuB,GACIhK,KAAM,MACNiK,YACIC,UAAAC,EAAAC,EACAC,gBAAAC,EAAAF,EACAG,WAAA/B,EACAgC,WAAAV,GAEJW,UACIC,gBAAiB,WACb,OAAmC,IAA5BlK,KAAKmK,oBAEhBC,cAAe,WACX,OAAOpK,KAAKmK,mBAAsBnK,KAAKiB,UAAUR,OAAOvB,OAAS,GAErEF,MAAO,WACH,OAAOgB,KAAKiB,UAAUR,OAAOT,KAAKmK,sBAG1CvI,KAAM,WACF,OACIyI,cAAc,EACdpJ,UAAW,IAAIA,EACfqJ,QAAS,IAAIA,EACb9H,SAAS,EACTC,cAAgBxC,IAAK,IACrBsK,mBAAoB,EACpBJ,mBAAoB,EACpBK,qBAAqB,IAG7BzI,QAAS,WACL/B,KAAKiB,UAAYjB,KAAKsK,QAAQG,gBAAkB,IAAIxJ,GAExDyB,SACIgI,SAAU,WACN1K,KAAK2K,oBAEL3K,KAAKiB,UAAUR,OAAOqE,KAAK,IAAI9F,GAAQQ,KAAM,eAC7CQ,KAAKsK,QAAQM,gBAAgB5K,KAAKiB,WAElCjB,KAAK6K,YAAY7K,KAAKiB,UAAUR,OAAOvB,OAAS,IAEpD4L,iBAAkB,SAAU7B,GACnBA,EAAI8B,QAIL9B,EAAI8B,MAAMC,WAAahL,KAAKmK,mBAC5BnK,KAAKmK,mBAAqBlB,EAAI8B,MAAME,SAC7BhC,EAAI8B,MAAMC,SAAWhL,KAAKmK,oBAAsBlB,EAAI8B,MAAME,UAAYjL,KAAKmK,mBAClFnK,KAAKmK,oBAAsB,EACpBlB,EAAI8B,MAAMC,SAAWhL,KAAKmK,oBAAsBlB,EAAI8B,MAAME,UAAYjL,KAAKmK,qBAClFnK,KAAKmK,oBAAsB,GAG/BnK,KAAKsK,QAAQM,gBAAgB5K,KAAKiB,aAEtCiK,WAAY,WACRlL,KAAKiB,UAAUR,OAAOT,KAAKmK,oBAAoB7J,MAAMsG,OAAO5G,KAAKuK,kBAAmB,GACpFvK,KAAK2K,qBAETQ,YAAa,SAAU/G,GACnBpE,KAAKiB,UAAUR,OAAOmG,OAAOxC,EAAO,GACpCpE,KAAKsK,QAAQM,gBAAgB5K,KAAKiB,WAElC,IAAImK,EAAgBpL,KAAKmK,mBAErB/F,GAASpE,KAAKmK,qBACdiB,EAAiBpL,KAAKmK,mBAAqB,EAAInK,KAAKmK,mBAAqB,EAAI,GAGjFnK,KAAK6K,YAAYO,IAErBC,SAAU,WACN,GAAKrL,KAAKhB,MAAV,CAIA,IAAMsM,EAAUC,SAASC,cAAc,KACvCF,EAAQG,aAAa,OAAQ,iCAAmCC,mBAAmB1L,KAAKsK,QAAQqB,WAEhG,IAAIC,EAAa,YAEW,KAAxB5L,KAAKiB,UAAUzB,OACfoM,EAAa5L,KAAKiB,UAAUzB,MAGhC8L,EAAQG,aAAa,WAAYG,EAAa,SAE9CN,EAAQvH,MAAM8H,QAAU,OACxBN,SAASO,KAAKC,YAAYT,GAE1BA,EAAQU,QAERT,SAASO,KAAKG,YAAYX,KAE9BY,aAAc,WACVlM,KAAKsK,QAAQ6B,kBACbnM,KAAKiB,UAAY,IAAIA,EACrBjB,KAAKsK,QAAQ8B,aAAapM,KAAKiB,YAEnCoL,WAAY,SAAUC,GAAM,IAAAvH,EAAA/E,KACpBA,KAAKyC,aAAaxC,MAAQqM,EAAKrM,IAC/BD,KAAK2K,qBAEL3K,KAAKyC,aAAezC,KAAKyC,aAAaxC,MAAQqM,EAAKrM,KAAQA,IAAK,IAAOqM,EACvEtM,KAAKqK,aAAyC,KAA1BrK,KAAKyC,aAAaxC,IACtCD,KAAKuK,kBAAoBvK,KAAKiB,UAAUR,OAAOT,KAAKmK,oBAAoB7J,MAAMqG,UAAU,SAACiD,GAAD,OAAOA,EAAE3J,MAAQ8E,EAAKtC,aAAaxC,QAGnI4K,YAAa,SAAUzG,GACfA,IAAUpE,KAAKmK,oBAAsB/F,EAAQ,GAAKA,GAASpE,KAAKiB,UAAUR,OAAOvB,SAIrFc,KAAKmK,mBAAqB/F,IAE9BmI,eAAgB,WACZvM,KAAKwC,SAAWxC,KAAKwC,QAEhBxC,KAAKwC,SACNxC,KAAKsK,QAAQM,gBAAgB5K,KAAKiB,YAG1CuL,sBAAuB,WACnBxM,KAAKwK,qBAAuBxK,KAAKwK,qBAErCiC,OAAQ,SAAUC,GAAQ,IAAA7G,EAAA7F,KAEtB,GADA2M,QAAQC,IAAIF,MACPG,MAAM7H,OAAO8H,MAAM5N,OAAS,GAAjC,CAIAc,KAAK2K,oBAEL,IAAMoC,EAAOF,MAAM7H,OAAO8H,MAAM,GAC1BE,EAAa,IAAIC,WACvBD,EAAWE,OAAS,WAChBrH,EAAKyE,QAAQ6C,OAAOH,EAAWI,QAC/BvH,EAAK5E,UAAY4E,EAAKyE,QAAQG,eAC9B5E,EAAK/C,MAAMuK,eAAeC,SAE9BN,EAAWO,WAAWR,KAE1BpC,kBAAmB,WACf3K,KAAKyC,cAAiBxC,IAAK,IAC3BD,KAAKuK,mBAAqB,EAC1BvK,KAAKqK,cAAe,GAExBzB,OAAQ,SAAUJ,EAAMgF,GACpB,OAAQhF,GACJ,IAAK,YACDxI,KAAKiB,UAAUR,OAAOT,KAAKmK,oBAAoBzK,YAAc8N,EAC7D,MACJ,IAAK,WACDxN,KAAKiB,UAAUR,OAAOT,KAAKmK,oBAAoB7J,MAAMN,KAAKuK,mBAAmB/K,KAAOgO,EACpF,MACJ,IAAK,WACDxN,KAAKiB,UAAUR,OAAOT,KAAKmK,oBAAoB7J,MAAMN,KAAKuK,mBAAmB7K,YAAc8N,EAC3F,MACJ,IAAK,gBACDxN,KAAKiB,UAAUR,OAAOT,KAAKmK,oBAAoB7J,MAAMN,KAAKuK,mBAAmB3K,iBAAmB4N,EAMxGxN,KAAKsK,QAAQM,gBAAgB5K,KAAKiB,cC5K9CwM,GADiBnG,OAFjB,WAA0B,IAAAoG,EAAA1N,KAAauH,EAAAmG,EAAAlG,eAA0BE,EAAAgG,EAAAjG,MAAAC,IAAAH,EAAwB,OAAAG,EAAA,OAAiBiG,YAAA,6BAAuCjG,EAAA,OAAYiG,YAAA,2DAAqEjG,EAAA,KAAUiG,YAAA,0BAAA/F,OAA6CgG,KAAA,OAAYF,EAAAG,GAAA,kBAAAH,EAAAG,GAAA,KAAAnG,EAAA,MAAgDiG,YAAA,uBAAiCjG,EAAA,MAAWiG,YAAA,sBAAgCjG,EAAA,KAAUiG,YAAA,sCAAA/F,OAAyDgG,KAAA,IAAA/F,GAAA,eAAAiG,KAAA,SAAAC,cAAA,WAAAC,gBAAA,OAAAC,gBAAA,WAAwHP,EAAAG,GAAA,uDAAAH,EAAAG,GAAA,KAAAnG,EAAA,OAAsFiG,YAAA,gBAAA/F,OAAmCsG,kBAAA,kBAAkCxG,EAAA,UAAeiG,YAAA,gBAAApK,IAAgCyI,MAAA,SAAAU,GAAyBgB,EAAAxB,mBAAqBxE,EAAA,qBAA0BE,OAAOuG,MAAA,wBAA+BT,EAAAG,GAAA,2DAAAH,EAAAG,GAAA,KAAAnG,EAAA,UAA6FiG,YAAA,gBAAA/F,OAAmCgG,KAAA,IAAAE,KAAA,SAAAC,cAAA,QAAAK,cAAA,6BAA0F1G,EAAA,qBAA0BE,OAAOuG,MAAA,iBAAwBT,EAAAG,GAAA,gEAAAH,EAAAG,GAAA,KAAAnG,EAAA,OAA+FiG,YAAA,qBAA+BD,EAAAG,GAAA,KAAAnG,EAAA,UAA2BiG,YAAA,gBAAApK,IAAgCyI,MAAA,SAAAU,GAAyBgB,EAAA5K,MAAAuL,WAAArC,YAA+BtE,EAAA,qBAA0BE,OAAOuG,MAAA,mBAA0BT,EAAAG,GAAA,8DAAAH,EAAAG,GAAA,KAAAnG,EAAA,QAA8FC,IAAA,mBAAqBD,EAAA,SAAcC,IAAA,aAAAC,OAAwBC,GAAA,cAAAW,KAAA,OAAA8F,OAAA,SAAkD/K,IAAKgL,OAAA,SAAA7B,GAA0BgB,EAAAjB,OAAAC,SAAqBgB,EAAAG,GAAA,KAAAnG,EAAA,UAA6BiG,YAAA,gBAAAa,OAAmCC,UAAAf,EAAA1O,OAAuBuE,IAAKyI,MAAA,SAAAU,GAAyBgB,EAAArC,eAAiB3D,EAAA,qBAA0BE,OAAOuG,MAAA,qBAA4BT,EAAAG,GAAA,kEAAAH,EAAAG,GAAA,KAAAH,EAAAgB,GAAA,KAAAhB,EAAAG,GAAA,KAAAH,EAAA,MAAAhG,EAAA,MAAoIiG,YAAA,gCAA0CjG,EAAA,MAAAgG,EAAAlL,QAAkOkL,EAAAiB,KAAlOjH,EAAA,UAAuCiG,YAAA,0CAAA/F,OAA6DY,KAAA,UAAgBjF,IAAKyI,MAAA,SAAAU,GAAyBgB,EAAAnB,qBAAuB7E,EAAA,qBAA0BE,OAAOuG,MAAA,iBAAwBT,EAAAG,GAAA,oDAAAH,EAAAG,GAAA,KAAAH,EAAA,QAAAhG,EAAA,UAA6GiG,YAAA,0CAAA/F,OAA6DY,KAAA,UAAgBjF,IAAKyI,MAAA,SAAAU,GAAyBgB,EAAAnB,qBAAuB7E,EAAA,qBAA0BE,OAAOuG,MAAA,iBAAwBT,EAAAG,GAAA,oDAAAH,EAAAiB,SAAAjB,EAAAiB,OAAAjB,EAAAG,GAAA,KAAAH,EAAA1O,MAA2qB0O,EAAAiB,KAA3qBjH,EAAA,OAAwHiG,YAAA,MAAA/F,OAAyBC,GAAA,qBAAwBH,EAAA,OAAYiG,YAAA,mCAA6CjG,EAAA,OAAYiG,YAAA,SAAmBjG,EAAA,OAAYiG,YAAA,gDAA0DjG,EAAA,qBAA0BiG,YAAA,QAAA/F,OAA2BuG,MAAA,yBAA+B,GAAAT,EAAAG,GAAA,KAAAH,EAAAgB,GAAA,OAAAhB,EAAAG,GAAA,KAAAnG,EAAA,OAAsDiG,YAAA,uBAAiCjG,EAAA,OAAYiG,YAAA,SAAmBjG,EAAA,OAAYiG,YAAA,gDAA0DjG,EAAA,qBAA0BiG,YAAA,QAAA/F,OAA2BuG,MAAA,yBAA+B,GAAAT,EAAAG,GAAA,KAAAH,EAAAgB,GAAA,SAAAhB,EAAAG,GAAA,KAAAH,EAAA,MAAAhG,EAAA,OAA6EiG,YAAA,QAAkBjG,EAAA,OAAYiG,YAAA,WAAA/F,OAA8BC,GAAA,eAAkBH,EAAA,OAAYiG,YAAA,OAAA/F,OAA0BC,GAAA,gBAAmBH,EAAA,OAAYiG,YAAA,gBAA0BjG,EAAA,MAAWkH,aAAapP,KAAA,OAAAqP,QAAA,SAAArB,OAAAE,EAAAlL,QAAAsM,WAAA,eAA0EpB,EAAAG,GAAAH,EAAAqB,GAAArB,EAAA1O,MAAAQ,SAAAkO,EAAAG,GAAA,KAAAnG,EAAA,MAAwDkH,aAAapP,KAAA,OAAAqP,QAAA,SAAArB,MAAAE,EAAA,QAAAoB,WAAA,cAAwEpB,EAAAG,GAAA,aAAAH,EAAAG,GAAA,KAAAnG,EAAA,OAA4CiG,YAAA,cAAA/F,OAAiCC,GAAA,0BAA6BH,EAAA,SAAckH,aAAapP,KAAA,OAAAqP,QAAA,SAAArB,MAAAE,EAAA,oBAAAoB,WAAA,wBAAgGtP,KAAA,QAAAqP,QAAA,eAAArB,MAAAE,EAAA1O,MAAA,MAAA8P,WAAA,cAAAE,WAAgGC,MAAA,KAAatB,YAAA,eAAA/F,OAAoCY,KAAA,MAAA0G,YAAA,cAAAC,aAAA,eAAoEC,UAAW5B,MAAAE,EAAA1O,MAAA,OAA0BuE,IAAK8L,KAAA,SAAA3C,GAAwBgB,EAAA9E,OAAA,aAAA8E,EAAA1O,MAAAoB,QAA0CmO,OAAA,SAAA7B,GAA2BgB,EAAA4B,KAAA5B,EAAA1O,MAAA,QAAA0N,EAAA1H,OAAAwI,WAAoDE,EAAAG,GAAA,KAAAnG,EAAA,OAAwBiG,YAAA,uBAAiCjG,EAAA,UAAeiG,YAAA,eAAAa,OAAkCe,UAAA7B,EAAAlD,qBAAuC5C,OAAQY,KAAA,UAAgBjF,IAAKyI,MAAA,SAAAU,GAAyBgB,EAAAlB,4BAA8B9E,EAAA,qBAA0BE,OAAOuG,MAAA,mBAAyB,SAAAT,EAAAG,GAAA,KAAAnG,EAAA,OAAkCiG,YAAA,YAAsBjG,EAAA,OAAYiG,YAAA,qBAAA/F,OAAwCC,GAAA,oBAAuBH,EAAA,UAAeiG,YAAA,gBAAA/F,OAAmCY,KAAA,SAAAiG,UAAAf,EAAAtD,eAA8C7G,IAAKyI,MAAA,SAAAU,GAAyBgB,EAAA7C,YAAA6C,EAAAvD,mBAAA,OAA8CzC,EAAA,qBAA0BE,OAAOuG,MAAA,wBAA8B,GAAAT,EAAAG,GAAA,KAAAnG,EAAA,UAA+BiG,YAAA,gBAAA/F,OAAmCY,KAAA,SAAAiG,UAAAf,EAAAxD,iBAAgD3G,IAAKyI,MAAA,SAAAU,GAAyBgB,EAAA7C,YAAA6C,EAAAvD,mBAAA,OAA8CzC,EAAA,qBAA0BE,OAAOuG,MAAA,0BAAgC,KAAAT,EAAAG,GAAA,KAAAnG,EAAA,OAA8BE,OAAOC,GAAA,WAAcH,EAAA,OAAYE,OAAO4H,IAAA9B,EAAA1O,MAAAoB,SAAuBsN,EAAAG,GAAA,KAAAnG,EAAA,eAAgCE,OAAOpF,QAAAkL,EAAAlL,QAAAxD,MAAA0O,EAAA1O,MAAAyD,aAAAiL,EAAAjL,aAAAmD,gBAAA8H,EAAArB,eAA0G,GAAAqB,EAAAG,GAAA,KAAAnG,EAAA,OAA4BkH,aAAapP,KAAA,OAAAqP,QAAA,SAAArB,OAAAE,EAAAlL,QAAAsM,WAAA,aAAwEnB,YAAA,YAAAyB,UAAoCK,UAAA/B,EAAAqB,GAAArB,EAAA1O,MAAAU,gBAA2CgO,EAAAG,GAAA,KAAAnG,EAAA,OAAwBkH,aAAapP,KAAA,OAAAqP,QAAA,SAAArB,MAAAE,EAAA,QAAAoB,WAAA,YAAsEnB,YAAA,mBAA+BjG,EAAA,OAAYiG,YAAA,eAAyBjG,EAAA,SAAcE,OAAO8H,IAAA,qBAAyBhC,EAAAG,GAAA,iBAAAH,EAAAG,GAAA,KAAAnG,EAAA,SAAkDkH,aAAapP,KAAA,QAAAqP,QAAA,UAAArB,MAAAE,EAAA1O,MAAA,KAAA8P,WAAA,eAA8EnB,YAAA,eAAA/F,OAAoCC,GAAA,kBAAAW,KAAA,OAAA0G,YAAA,cAAAC,aAAA,eAA4FC,UAAW5B,MAAAE,EAAA1O,MAAA,MAAyBuE,IAAK8L,KAAA,SAAA3C,GAAwBgB,EAAA9E,OAAA,YAAA8E,EAAA1O,MAAAQ,OAAwCmQ,MAAA,SAAAjD,GAA0BA,EAAA1H,OAAA4K,WAAsClC,EAAA4B,KAAA5B,EAAA1O,MAAA,OAAA0N,EAAA1H,OAAAwI,aAAmDE,EAAAG,GAAA,KAAAnG,EAAA,OAA0BiG,YAAA,eAAyBjG,EAAA,SAAcE,OAAO8H,IAAA,qBAAyBhC,EAAAG,GAAA,kBAAAH,EAAAG,GAAA,KAAAnG,EAAA,cAAwDE,OAAOC,GAAA,YAAA1E,OAAA,IAAAmF,QAAAoF,EAAA1O,MAAAU,YAAAkJ,OAAA8E,EAAA9E,WAAmF,WAAA8E,EAAAG,GAAA,KAAAnG,EAAA,OAAoCkH,aAAapP,KAAA,OAAAqP,QAAA,SAAArB,MAAAE,EAAA,aAAAoB,WAAA,iBAAgFnB,YAAA,WAAA/F,OAAgCC,GAAA,gBAAmBH,EAAA,OAAYiG,YAAA,OAAA/F,OAA0BC,GAAA,eAAkBH,EAAA,OAAYkH,aAAapP,KAAA,OAAAqP,QAAA,SAAArB,OAAAE,EAAAlL,QAAAsM,WAAA,aAAwEnB,YAAA,gBAA4BjG,EAAA,MAAAgG,EAAAG,GAAAH,EAAAqB,GAAArB,EAAAjL,aAAAjD,WAAAkO,EAAAG,GAAA,KAAAnG,EAAA,OAA2EkH,aAAapP,KAAA,OAAAqP,QAAA,SAAArB,OAAAE,EAAAlL,QAAAsM,WAAA,aAAwEnB,YAAA,oBAAAyB,UAA4CK,UAAA/B,EAAAqB,GAAArB,EAAAjL,aAAA/C,gBAAkDgO,EAAAG,GAAA,KAAAnG,EAAA,OAAwBkH,aAAapP,KAAA,OAAAqP,QAAA,SAAArB,MAAAE,EAAA,QAAAoB,WAAA,YAAsEnB,YAAA,gBAA4BjG,EAAA,MAAAgG,EAAAG,GAAA,oBAAAH,EAAAG,GAAA,KAAAnG,EAAA,OAA4DkH,aAAapP,KAAA,OAAAqP,QAAA,SAAArB,MAAAE,EAAA,QAAAoB,WAAA,YAAsEnB,YAAA,mBAA+BjG,EAAA,OAAYiG,YAAA,eAAyBjG,EAAA,SAAcE,OAAO8H,IAAA,oBAAwBhC,EAAAG,GAAA,gBAAAH,EAAAG,GAAA,KAAAnG,EAAA,SAAiDkH,aAAapP,KAAA,QAAAqP,QAAA,UAAArB,MAAAE,EAAAjL,aAAA,KAAAqM,WAAA,sBAA4FnB,YAAA,eAAA/F,OAAoCY,KAAA,QAAc4G,UAAW5B,MAAAE,EAAAjL,aAAA,MAAgCc,IAAK8L,KAAA,SAAA3C,GAAwBgB,EAAA9E,OAAA,WAAA8E,EAAAjL,aAAAjD,OAA8CmQ,MAAA,SAAAjD,GAA0BA,EAAA1H,OAAA4K,WAAsClC,EAAA4B,KAAA5B,EAAAjL,aAAA,OAAAiK,EAAA1H,OAAAwI,aAA0DE,EAAAG,GAAA,KAAAnG,EAAA,OAA0BiG,YAAA,eAAyBjG,EAAA,SAAcE,OAAO8H,IAAA,oBAAwBhC,EAAAG,GAAA,kBAAAH,EAAAG,GAAA,KAAAnG,EAAA,cAAwDE,OAAOC,GAAA,WAAA1E,OAAA,IAAAmF,QAAAoF,EAAAjL,aAAA/C,YAAAkJ,OAAA8E,EAAA9E,WAAyF,GAAA8E,EAAAG,GAAA,KAAAnG,EAAA,OAA4BiG,YAAA,eAAyBjG,EAAA,SAAcE,OAAO8H,IAAA,0BAA8BhC,EAAAG,GAAA,wBAAAH,EAAAG,GAAA,KAAAnG,EAAA,cAA8DE,OAAOC,GAAA,gBAAA1E,OAAA,GAAAuF,UAAA,sBAAAJ,QAAAoF,EAAAjL,aAAA7C,iBAAAgJ,OAAA8E,EAAA9E,WAAqI,GAAA8E,EAAAG,GAAA,KAAAnG,EAAA,UAA+BiG,YAAA,yBAAA/F,OAA4CY,KAAA,UAAgBjF,IAAKyI,MAAA,SAAAU,GAAyBgB,EAAAxC,iBAAmBxD,EAAA,qBAA0BE,OAAOuG,MAAA,sBAA6BT,EAAAG,GAAA,2EAAAH,EAAAiB,KAAAjB,EAAAG,GAAA,KAAAnG,EAAA,OAAmHiG,YAAA,aAAA/F,OAAgCC,GAAA,cAAAgI,SAAA,KAAA/B,KAAA,SAAAI,kBAAA,kBAAA4B,cAAA,UAA6GpI,EAAA,OAAYiG,YAAA,wBAAA/F,OAA2CkG,KAAA,cAAmBpG,EAAA,OAAYiG,YAAA,kBAA4BD,EAAAgB,GAAA,GAAAhB,EAAAG,GAAA,KAAAnG,EAAA,OAAkCiG,YAAA,eAAyBjG,EAAA,SAAciG,YAAA,sBAAgCD,EAAAgB,GAAA,GAAAhB,EAAAG,GAAA,KAAAnG,EAAA,aAAwCE,OAAO0D,QAAA,SAAkB/H,IAAKgL,OAAAb,EAAA5C,kBAA8BiF,OAAQvC,MAAAE,EAAAzM,UAAA,OAAA+O,SAAA,SAAAC,GAAsDvC,EAAA4B,KAAA5B,EAAAzM,UAAA,SAAAgP,IAAuCnB,WAAA,qBAAgCpB,EAAAwC,GAAAxC,EAAAzM,UAAA,gBAAAkP,EAAA/L,GAAyD,OAAAsD,EAAA,MAAgB0I,IAAAD,EAAAlQ,IAAA0N,YAAA,gBAA4CjG,EAAA,MAAAA,EAAA,qBAAmCE,OAAOuG,MAAA,kBAAwB,GAAAT,EAAAG,GAAA,KAAAnG,EAAA,MAAAgG,EAAAG,GAAAH,EAAAqB,GAAA3K,EAAA,MAAAsJ,EAAAG,GAAA,KAAAnG,EAAA,MAAAgG,EAAAG,GAAAH,EAAAqB,GAAAoB,EAAA3Q,SAAAkO,EAAAG,GAAA,KAAAnG,EAAA,MAAAA,EAAA,UAA+IiG,YAAA,eAAA/F,OAAkCyI,MAAA,oBAA2B9M,IAAKyI,MAAA,SAAAU,GAAyBgB,EAAA7C,YAAAzG,OAAyB+L,EAAAlQ,MAAAyN,EAAA1O,MAAAiB,IAAAyH,EAAA,qBAA4DE,OAAOuG,MAAA,sBAA6BT,EAAAiB,KAAAjB,EAAAG,GAAA,KAAAsC,EAAAlQ,MAAAyN,EAAA1O,MAAAiB,IAAAyH,EAAA,qBAAiFiG,YAAA,iBAAA/F,OAAoCuG,MAAA,uBAA8BT,EAAAiB,MAAA,GAAAjB,EAAAG,GAAA,KAAAnG,EAAA,UAAwCiG,YAAA,2BAAA/F,OAA8CyI,MAAA,gBAAuB9M,IAAKyI,MAAA,SAAAU,GAAyBgB,EAAAvC,YAAA/G,OAAyBsD,EAAA,qBAA0BE,OAAOuG,MAAA,uBAA6B,UAAUT,EAAAG,GAAA,KAAAnG,EAAA,SAAAA,EAAA,MAAAA,EAAA,MAA6CE,OAAO0I,QAAA,OAAe5I,EAAA,UAAeiG,YAAA,4BAAApK,IAA4CyI,MAAA,SAAAU,GAAyBgB,EAAAhD,eAAiBhD,EAAA,qBAA0BE,OAAOuG,MAAA,iBAAwBT,EAAAG,GAAA,6GAAAH,EAAAG,GAAA,KAAAnG,EAAA,OAA4IiG,YAAA,iBAA2BjG,EAAA,OAAYiG,YAAA,gCAA0CjG,EAAA,qBAA0BE,OAAOuG,MAAA,wBAA+BT,EAAAG,GAAA,mGAAAH,EAAAG,GAAA,KAAAnG,EAAA,UAAqIiG,YAAA,4BAAA/F,OAA+CY,KAAA,SAAA+H,eAAA,WAAwC7C,EAAAG,GAAA,mBAAAH,EAAAG,GAAA,KAAAnG,EAAA,OAAkDiG,YAAA,aAAA/F,OAAgCC,GAAA,yBAAAgI,SAAA,KAAA/B,KAAA,SAAAI,kBAAA,kBAAA4B,cAAA,UAAwHpI,EAAA,OAAYiG,YAAA,wBAAA/F,OAA2CkG,KAAA,cAAmBpG,EAAA,OAAYiG,YAAA,kBAA4BD,EAAAgB,GAAA,GAAAhB,EAAAG,GAAA,KAAAnG,EAAA,OAAkCiG,YAAA,eAAyBjG,EAAA,QAAAA,EAAA,OAAuBiG,YAAA,eAAyBjG,EAAA,SAAciG,YAAA,iBAAA/F,OAAoC8H,IAAA,oBAAwBhC,EAAAG,GAAA,WAAAH,EAAAG,GAAA,KAAAnG,EAAA,SAA4CkH,aAAapP,KAAA,QAAAqP,QAAA,UAAArB,MAAAE,EAAAzM,UAAA,KAAA6N,WAAA,mBAAsFnB,YAAA,eAAA/F,OAAoCC,GAAA,iBAAAW,KAAA,OAAA0G,YAAA,kBAAmEE,UAAW5B,MAAAE,EAAAzM,UAAA,MAA6BsC,IAAK8L,KAAA,SAAA3C,GAAwBgB,EAAA9E,OAAA,gBAAA8E,EAAAzM,UAAAzB,OAAgDmQ,MAAA,SAAAjD,GAA0BA,EAAA1H,OAAA4K,WAAsClC,EAAA4B,KAAA5B,EAAAzM,UAAA,OAAAyL,EAAA1H,OAAAwI,aAAuDE,EAAAG,GAAA,KAAAnG,EAAA,OAA0BiG,YAAA,eAAyBjG,EAAA,SAAciG,YAAA,iBAAA/F,OAAoC8H,IAAA,2BAA+BhC,EAAAG,GAAA,kBAAAH,EAAAG,GAAA,KAAAnG,EAAA,YAAsDkH,aAAapP,KAAA,QAAAqP,QAAA,UAAArB,MAAAE,EAAAzM,UAAA,YAAA6N,WAAA,0BAAoGnB,YAAA,eAAA/F,OAAoCC,GAAA,wBAAA2I,KAAA,IAAAtB,YAAA,wBAA6EE,UAAW5B,MAAAE,EAAAzM,UAAA,aAAoCsC,IAAK8L,KAAA,SAAA3C,GAAwBgB,EAAA9E,OAAA,gBAAA8E,EAAAzM,UAAAvB,cAAuDiQ,MAAA,SAAAjD,GAA0BA,EAAA1H,OAAA4K,WAAsClC,EAAA4B,KAAA5B,EAAAzM,UAAA,cAAAyL,EAAA1H,OAAAwI,iBAA8DE,EAAAG,GAAA,KAAAH,EAAAgB,GAAA,YAE7nZ3G,iBADjB,WAAoC,IAAaR,EAAbvH,KAAawH,eAA0BE,EAAvC1H,KAAuCyH,MAAAC,IAAAH,EAAwB,OAAAG,EAAA,MAAgBiG,YAAA,aAAuBjG,EAAA,KAAUiG,YAAA,sBAAA/F,OAAyCgG,KAAA,IAAAE,KAAA,SAAAC,cAAA,QAAAK,cAAA,kBAAzJpO,KAAwO6N,GAAA,8DAAsE,WAAc,IAAatG,EAAbvH,KAAawH,eAA0BE,EAAvC1H,KAAuCyH,MAAAC,IAAAH,EAAwB,OAAAG,EAAA,OAAiBiG,YAAA,cAAwBjG,EAAA,MAAWiG,YAAA,eAAnH3N,KAA4I6N,GAAA,SAA5I7N,KAA4I6N,GAAA,KAAAnG,EAAA,KAAsCiG,YAAA,cAAlL3N,KAA0M6N,GAAA,oEAA8E,WAAc,IAAatG,EAAbvH,KAAawH,eAA0BE,EAAvC1H,KAAuCyH,MAAAC,IAAAH,EAAwB,OAAAG,EAAA,OAAiBiG,YAAA,cAAwBjG,EAAA,MAAWiG,YAAA,eAAnH3N,KAA4I6N,GAAA,cAA5I7N,KAA4I6N,GAAA,KAAAnG,EAAA,KAA2CiG,YAAA,cAAvL3N,KAA+M6N,GAAA,0FAAsG,WAAc,IAAatG,EAAbvH,KAAawH,eAA0BE,EAAvC1H,KAAuCyH,MAAAC,IAAAH,EAAwB,OAAAG,EAAA,OAAiBiG,YAAA,iBAA2BjG,EAAA,MAAWiG,YAAA,gBAAtH3N,KAAgJ6N,GAAA,mBAAhJ7N,KAAgJ6N,GAAA,KAAAnG,EAAA,UAAqDiG,YAAA,QAAA/F,OAA2BY,KAAA,SAAA+H,eAAA,QAAApB,aAAA,WAA6DzH,EAAA,QAAaE,OAAOkI,cAAA,UAAjT9P,KAAuU6N,GAAA,YAAoB,WAAc,IAAatG,EAAbvH,KAAawH,eAA0BE,EAAvC1H,KAAuCyH,MAAAC,IAAAH,EAAwB,OAAAG,EAAA,SAAAA,EAAA,MAAAA,EAAA,MAAqCiG,YAAA,uBAApG3N,KAAqI6N,GAAA,KAAAnG,EAAA,MAArI1H,KAAqI6N,GAAA,cAArI7N,KAAqI6N,GAAA,KAAAnG,EAAA,MAArI1H,KAAqI6N,GAAA,UAArI7N,KAAqI6N,GAAA,KAAAnG,EAAA,MAArI1H,KAAqI6N,GAAA,kBAA+H,WAAc,IAAatG,EAAbvH,KAAawH,eAA0BE,EAAvC1H,KAAuCyH,MAAAC,IAAAH,EAAwB,OAAAG,EAAA,OAAiBiG,YAAA,iBAA2BjG,EAAA,MAAWiG,YAAA,gBAAtH3N,KAAgJ6N,GAAA,wBAAhJ7N,KAAgJ6N,GAAA,KAAAnG,EAAA,UAA0DiG,YAAA,QAAA/F,OAA2BY,KAAA,SAAA+H,eAAA,QAAApB,aAAA,WAA6DzH,EAAA,QAAaE,OAAOkI,cAAA,UAAtT9P,KAA4U6N,GAAA,YAAoB,WAAc,IAAatG,EAAbvH,KAAawH,eAA0BE,EAAvC1H,KAAuCyH,MAAAC,IAAAH,EAAwB,OAAAG,EAAA,OAAiBiG,YAAA,iBAA2BjG,EAAA,UAAeiG,YAAA,4BAAA/F,OAA+CY,KAAA,SAAA+H,eAAA,WAAzKvQ,KAAiN6N,GAAA,gBCEnoE,IAsBA4C,EAtBAxI,EAAA,OAaAyI,CACAlH,EACAiE,GATA,EATA,SAAAtF,GACAF,EAAA,SAYA,KAEA,MAUA,QCWA0I,OAAOzH,EAAI0H,EAAAhH,EACX+G,OAAOE,OAASD,EAAAhH,EAEhBkH,EAAA,QAAYC,QAAQC,IAChBC,EAAA,EACAA,EAAA,EACAA,EAAA,EACAA,EAAA,EACAA,EAAA,EACAA,EAAA,EACAA,EAAA,EACAA,EAAA,EACAA,EAAA,EACAA,EAAA,EACAA,EAAA,EACAA,EAAA,EACAA,EAAA,EACAA,EAAA,EACAA,EAAA,EACAA,EAAA,GAEJC,EAAA,EAAIC,OAAOC,eAAgB,EAG3B,IAAIF,EAAA,GACAG,GAAI,OACJ/J,OAAQ,SAAAgK,GAAA,OAAKA,EAAEb","file":"static/js/app.f9c698e12c86a9244e72.js","sourcesContent":["/* eslint-disable import/prefer-default-export */\r\nexport function generateUID() {\r\n    const possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    let text = '';\r\n\r\n    for (let i = 0; i < 5; i += 1) {\r\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n\r\n    return text;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/util.js","import { generateUID } from './util';\r\n\r\nexport default class Area {\r\n    constructor({ name = '', description = '', hoverDescription = '', points = [] } = {}) {\r\n        this.uid = generateUID();\r\n        this.name = name;\r\n        this.description = description;\r\n        this.hoverDescription = hoverDescription;\r\n        this.points = points;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/area.js","import { generateUID } from './util';\r\n\r\nexport default class Floor {\r\n    constructor({ image = '', name = '', description = '', areas = [] } = {}) {\r\n        this.uid = generateUID();\r\n        this.image = image;\r\n        this.name = name;\r\n        this.description = description;\r\n        this.areas = areas;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/floor.js","export default class Floorplan {\r\n    constructor({ name = '', description = '', floors = [] } = {}) {\r\n        this.name = name;\r\n        this.description = description;\r\n        this.floors = floors;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/floorplan.js","export default class Point {\r\n    constructor(x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/point.js","/*\r\nconst defaultTestFloorplan = {\r\n    name: 'Default floorplan',\r\n    description: 'Just a default floorplan',\r\n    floors: [\r\n        {\r\n            image: 'https://i.imgur.com/Y9cDiqE.png',\r\n            name: 'Riverside Main Floor',\r\n            description: 'Just some random wacky description',\r\n            areas: [\r\n                {\r\n                    uid: 'ajf9v0',\r\n                    points: [{ x: 52, y: 92 }, { x: 50, y: 151 }, { x: 123, y: 149 }, { x: 125, y: 91 }],\r\n                    name: 'Back stairwell',\r\n                    description: 'Stairs',\r\n                    hoverDescription: 'Hover \\'n stuff',\r\n                }, {\r\n                    uid: 'ufnf12',\r\n                    points: [{ x: 450, y: 250 }, { x: 700, y: 250 }, { x: 700, y: 275 }, { x: 450, y: 275 }],\r\n                    name: 'Some botched bridge stairwell',\r\n                    description: 'Woopsee',\r\n                    hoverDescription: 'Fucked this one right up',\r\n                },\r\n            ],\r\n        },\r\n    ],\r\n};\r\n*/\r\n\r\nexport default class Storage {\r\n    constructor() {\r\n        this.localStorageKey = 'floorplanner:floorplan';\r\n\r\n        if (localStorage.getItem(this.localStorageKey) === null) {\r\n            this.floorplan = null;\r\n        } else {\r\n            this.floorplan = JSON.parse(localStorage.getItem(this.localStorageKey));\r\n        }\r\n    }\r\n\r\n    import(floorplanString) {\r\n        // validate imported floorplan\r\n        this.floorplan = JSON.parse(floorplanString);\r\n        this.saveToLocalStorage();\r\n    }\r\n\r\n    export() {\r\n        return JSON.stringify(this.floorplan);\r\n    }\r\n\r\n    addFloorplan(floorplan) {\r\n        this.floorplan = floorplan;\r\n        this.saveToLocalStorage();\r\n    }\r\n\r\n    getFloorplan() {\r\n        return this.floorplan;\r\n    }\r\n\r\n    updateFloorplan(floorplan) {\r\n        this.floorplan = floorplan;\r\n        this.saveToLocalStorage();\r\n    }\r\n\r\n    deleteFloorplan() {\r\n        this.floorplan = null;\r\n        this.deleteLocalStorage();\r\n    }\r\n\r\n    saveToLocalStorage() {\r\n        localStorage.setItem(this.localStorageKey, JSON.stringify(this.floorplan));\r\n    }\r\n\r\n    deleteLocalStorage() {\r\n        localStorage.removeItem(this.localStorageKey);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/storage.js","import * as d3 from 'd3';\r\nimport { Area, Point } from '../../models';\r\n\r\nconst MARGIN = {\r\n    TOP: 0,\r\n    RIGHT: 0,\r\n    BOTTOM: 0,\r\n    LEFT: 0,\r\n};\r\n\r\nexport default {\r\n    name: 'floorGraph',\r\n    data: function () {\r\n        return {\r\n            drawingPoints: [],\r\n        }\r\n    },\r\n    props: ['editing', 'floor', 'selectedArea', 'onAreaSelection'],\r\n    mounted: function () {\r\n        this.init();\r\n        this.drawAreas(this.floor.areas);\r\n    },\r\n    watch: {\r\n        floor: {\r\n            handler: function (newFloor, oldFloor) {\r\n                if (newFloor.areas && newFloor.areas.length > 0) {\r\n                    this.reflectChanges();\r\n                    this.drawAreas(newFloor.areas);\r\n                }\r\n            },\r\n            deep: true,\r\n        },\r\n        editing: function () {\r\n            this.reflectChanges();\r\n            this.drawAreas(this.areas);\r\n        },\r\n        selectedArea: function () {\r\n            this.reflectChanges();\r\n            this.drawAreas(this.areas);\r\n        },\r\n    },\r\n    methods: {\r\n        init: function () {\r\n            const self = this;\r\n\r\n            const svg = d3.select(this.$refs.floor);\r\n\r\n            this.dimensions = svg.node().getBoundingClientRect();\r\n\r\n            this.width = this.dimensions.width - MARGIN.LEFT - MARGIN.RIGHT;\r\n            this.height = this.dimensions.height - MARGIN.TOP - MARGIN.BOTTOM;\r\n\r\n            svg.attr('width', this.width + MARGIN.LEFT + MARGIN.RIGHT)\r\n                .attr('height', this.height + MARGIN.TOP + MARGIN.BOTTOM);\r\n\r\n            this.graph = svg.append('g')\r\n                .attr('transform', `translate(${MARGIN.LEFT}, ${MARGIN.TOP})`);\r\n\r\n            this.graph.append('rect')\r\n                .attr('width', '100%')\r\n                .attr('height', '100%')\r\n                .attr('fill', 'transparent');\r\n\r\n            this.graph.on('click', function click() {\r\n                if (self.selectedArea.uid !== '' && self.editing) {\r\n                    self.addPolygonPoint(d3.mouse(this));\r\n                } else if (self.editing) {\r\n                    self.draw(d3.mouse(this));\r\n                }\r\n            }).on('mousemove', function mousemove() {\r\n                if (self.selectedArea.uid !== '' || self.drawingPoints.length === 0 || !self.editing) {\r\n                    return;\r\n                }\r\n\r\n                self.polygonDrawingGroup.select('line').remove();\r\n\r\n                self.polygonDrawingGroup.append('line')\r\n                    .attr('x1', self.drawingPoints[self.drawingPoints.length - 1].x)\r\n                    .attr('y1', self.drawingPoints[self.drawingPoints.length - 1].y)\r\n                    .attr('x2', d3.mouse(this)[0])\r\n                    .attr('y2', d3.mouse(this)[1]);\r\n            });\r\n\r\n            this.polygonDrawingGroup = this.graph.append('g')\r\n                .attr('class', 'polygon-drawing');\r\n\r\n            this.areasGroup = this.graph.append('g')\r\n                .attr('class', 'areas');\r\n\r\n            this.tooltip = d3.select('body')\r\n                .append('div')\r\n                .attr('id', 'tooltip')\r\n                .attr('class', 'card')\r\n                .style('opacity', 0);\r\n        },\r\n        addPolygonPoint: function (coords) {\r\n            const newPoint = new Point(Math.round(coords[0]), Math.round(coords[1]));\r\n            let index = 0;\r\n            let shortestDistance = this.width;\r\n\r\n            if (this.selectedArea.points.length > 2) {\r\n                for (let i = 1; i < this.selectedArea.points.length; i += 1) {\r\n                    const distance = this.distanceFromLine(newPoint, this.selectedArea.points[i - 1], this.selectedArea.points[i]);\r\n                    const intersectionPoint = this.getClosestPointOnLine(newPoint, this.selectedArea.points[i - 1], this.selectedArea.points[i]);\r\n\r\n                    if (distance < shortestDistance && this.pointIsBetween(intersectionPoint, this.selectedArea.points[i - 1], this.selectedArea.points[i])) {\r\n                        index = i;\r\n                        shortestDistance = distance;\r\n                    }\r\n                }\r\n\r\n                const distance = this.distanceFromLine(newPoint, this.selectedArea.points[this.selectedArea.points.length - 1], this.selectedArea.points[0]);\r\n                const intersectionPoint = this.getClosestPointOnLine(\r\n                    newPoint,\r\n                    this.selectedArea.points[this.selectedArea.points.length - 1],\r\n                    this.selectedArea.points[0]);\r\n\r\n                if (distance < shortestDistance\r\n                    && this.pointIsBetween(intersectionPoint, this.selectedArea.points[this.selectedArea.points.length - 1], this.selectedArea.points[0])) {\r\n                    index = this.selectedArea.points.length;\r\n                    shortestDistance = distance;\r\n                }\r\n\r\n                this.selectedArea.points = [\r\n                    ...this.selectedArea.points.slice(0, index),\r\n                    newPoint,\r\n                    ...this.selectedArea.points.slice(index),\r\n                ];\r\n            } else {\r\n                this.selectedArea.points.push(newPoint);\r\n            }\r\n\r\n            this.drawAreas(this.areas, this.editing);\r\n        },\r\n        draw: function (coords) {\r\n            if (d3.event.target.hasAttribute('is-handle')) {\r\n                this.closePolygon();\r\n                return;\r\n            }\r\n\r\n            this.drawingPoints.push(new Point(Math.round(coords[0]), Math.round(coords[1])));\r\n\r\n            this.polygonDrawingGroup.select('line').remove();\r\n            this.polygonDrawingGroup.select('polyline').remove();\r\n            this.polygonDrawingGroup.append('polyline')\r\n                .attr('points', () => this.drawingPoints.map(p => [p.x, p.y].join(',')).join(' '));\r\n\r\n            const circles = this.polygonDrawingGroup\r\n                .selectAll('circle')\r\n                .data(this.drawingPoints, d => `${d.x}#${d.y}`);\r\n\r\n            circles.enter()\r\n                .append('circle')\r\n                .attr('cx', (d, i) => this.drawingPoints[i].x)\r\n                .attr('cy', (d, i) => this.drawingPoints[i].y)\r\n                .attr('r', 4)\r\n                .attr('is-handle', 'true');\r\n\r\n            circles.exit().remove();\r\n        },\r\n        closePolygon: function () {\r\n            this.areas.push(new Area({ points: this.drawingPoints }));\r\n            this.polygonDrawingGroup.selectAll('*').remove();\r\n            this.drawingPoints = [];\r\n            this.drawAreas(this.areas, this.editing);\r\n            this.onAreaSelection(this.areas[this.areas.length - 1]);\r\n        },\r\n        drawAreas: function (areas) {\r\n            const self = this;\r\n            this.areas = areas;\r\n\r\n            const areasGroup = this.areasGroup.selectAll('g.area')\r\n                .data(areas, d => d.uid);\r\n\r\n            areasGroup.exit().remove();\r\n\r\n            const individualAreaGroup = areasGroup.enter()\r\n                .append('g')\r\n                .merge(areasGroup)\r\n                .attr('class', 'area');\r\n\r\n            const polygon = individualAreaGroup.selectAll('polygon')\r\n                .data(d => [{ uid: d.uid, name: d.name, hoverDesc: d.hoverDescription, points: d.points }]);\r\n\r\n            polygon.exit().remove();\r\n\r\n            polygon.enter()\r\n                .append('polygon')\r\n                .merge(polygon)\r\n                .attr('points', d => d.points.map(p => [p.x, p.y].join(',')).join(' '))\r\n                .attr('class', d => {\r\n                    const activePolygon = d.uid === this.selectedArea.uid;\r\n                    return activePolygon ? 'active' : '';\r\n                })\r\n                .on('click', (d, i, j) => {\r\n                    d3.event.stopPropagation();\r\n                    this.drawAreas(areas, this.editing);\r\n                    this.onAreaSelection(d3.select(j[i].parentNode).datum());\r\n                })\r\n                .on('mouseover', (d) => {\r\n                    if (this.editing) {\r\n                        return;\r\n                    }\r\n\r\n                    this.tooltip.html(`<h6>${d.name}</h6>${d.hoverDesc}`);\r\n                    this.tooltip.style('opacity', 1);\r\n                })\r\n                .on('mousemove', function mousemove() {\r\n                    if (this.editing) {\r\n                        return;\r\n                    }\r\n\r\n                    self.tooltip.style('left', `${d3.event.clientX + 15}px`) // Rob version just sets it away from the corner\r\n                        .style('top', `${d3.event.clientY - 10}px`);\r\n                })\r\n                .on('mouseout', () => {\r\n                    if (this.editing) {\r\n                        return;\r\n                    }\r\n\r\n                    this.tooltip.style('opacity', 0);\r\n                });\r\n\r\n            const circles = individualAreaGroup.selectAll('circle')\r\n                .data(d => {\r\n                    const showCircles = this.editing && d.uid === this.selectedArea.uid;\r\n                    return showCircles ? d.points : [];\r\n                }, c => `${c.x}#${c.y}`);\r\n\r\n            circles.enter()\r\n                .append('circle')\r\n                .merge(circles)\r\n                .attr('r', 4)\r\n                .attr('cx', d => d.x)\r\n                .attr('cy', d => d.y)\r\n                .attr('class', 'active') // These circles are only drawn for the selected polygon\r\n                .on('click', (d, i, j) => {\r\n                    d3.event.stopPropagation();\r\n                    const parentAreaPoints = d3.select(j[i].parentNode).datum().points;\r\n\r\n                    // Don't remove the last circle from an area\r\n                    if (parentAreaPoints.length === 1) {\r\n                        return;\r\n                    }\r\n\r\n                    const index = parentAreaPoints.findIndex(p => p.x === d.x && p.y === d.y);\r\n                    parentAreaPoints.splice(index, 1);\r\n\r\n                    this.drawAreas(areas, this.editing);\r\n                })\r\n                .call(d3.drag()\r\n                    .on('start', function start() {\r\n                        d3.select(this).classed('drag', true);\r\n                    })\r\n                    .on('drag', function drag(d) {\r\n                        const point = d;\r\n                        d3.select(this)\r\n                            .attr('cx', point.x = d3.event.x)\r\n                            .attr('cy', point.y = d3.event.y);\r\n                        self.drawAreas(areas, self.editing);\r\n                    })\r\n                    .on('end', function end() {\r\n                        d3.select(this).classed('drag', false);\r\n                    }));\r\n\r\n            circles.exit().remove();\r\n        },\r\n        distance: function (lineStartPoint, lineEndPoint) {\r\n            return Math.sqrt(((lineEndPoint.x - lineStartPoint.x) ** 2) + ((lineEndPoint.y - lineStartPoint.y) ** 2));\r\n        },\r\n        distanceFromLine: function (point, lineStartPoint, lineEndPoint) {\r\n            return Math.abs((((lineEndPoint.y - lineStartPoint.y) * point.x)\r\n                - ((lineEndPoint.x - lineStartPoint.x) * point.y))\r\n                + ((lineEndPoint.x * lineStartPoint.y)\r\n                    - (lineEndPoint.y * lineStartPoint.x)))\r\n                / this.distance(lineStartPoint, lineEndPoint);\r\n        },\r\n        pointIsBetween: function (point, lineStartPoint, lineEndPoint) {\r\n            return (Math.round(this.distance(lineStartPoint, point)) + Math.round(this.distance(point, lineEndPoint)))\r\n                <= (Math.round(this.distance(lineStartPoint, lineEndPoint)) + 1)\r\n                && (Math.round(this.distance(lineStartPoint, point)) + Math.round(this.distance(point, lineEndPoint)))\r\n                >= (Math.round(this.distance(lineStartPoint, lineEndPoint)) - 1);\r\n        },\r\n        getClosestPointOnLine: function (point, lineStartPoint, lineEndPoint) {\r\n            const distance = (((point.x - lineStartPoint.x) * (lineEndPoint.x - lineStartPoint.x))\r\n                + ((point.y - lineStartPoint.y) * (lineEndPoint.y - lineStartPoint.y)))\r\n                / (((lineEndPoint.x - lineStartPoint.x) ** 2) + ((lineEndPoint.y - lineStartPoint.y) ** 2));\r\n            return {\r\n                x: lineStartPoint.x + (distance * (lineEndPoint.x - lineStartPoint.x)),\r\n                y: lineStartPoint.y + (distance * (lineEndPoint.y - lineStartPoint.y)),\r\n            };\r\n        },\r\n        reflectChanges: function () {\r\n            this.drawingPoints = [];\r\n            this.polygonDrawingGroup\r\n                .selectAll('*')\r\n                .remove();\r\n        },\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/floor-graph/floor-graph.component.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{ref:\"floor\",attrs:{\"id\":\"floor-graph\",\"viewBox\":\"0 0 920 690\"}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e195995e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/floor-graph/floor-graph.component.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e195995e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./floor-graph.component.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!./floor-graph.component.js\"\nimport __vue_script__ from \"!!babel-loader!./floor-graph.component.js\"/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e195995e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./floor-graph.component.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/floor-graph/floor-graph.component.vue\n// module id = null\n// module chunks = ","export default {\r\n    name: 'summernote',\r\n    props: {\r\n        id: String,\r\n        content: {\r\n            default: '',\r\n            type: String,\r\n        },\r\n        height: {\r\n            default: null,\r\n            type: Number,\r\n        },\r\n        toolbar: {\r\n            default: null,\r\n            type: Array,\r\n        },\r\n        onBlur: Function,\r\n    },\r\n    mounted: function () {\r\n        const options = {\r\n            height: this.height,\r\n            focus: false,\r\n            callbacks: {\r\n                onBlur: (evt) => this.onBlur(this.id, $(this.$refs.summernote).summernote('code'), evt)\r\n            },\r\n        };\r\n\r\n        if (this.toolbar) {\r\n            options.toolbar = this.toolbar;\r\n        }\r\n\r\n        $(this.$refs.summernote).summernote(options);\r\n        $(this.$refs.summernote).summernote('code', this.content);\r\n    },\r\n    beforeDestroy: function () {\r\n        $(this.$refs.summernote).summernote('destroy');\r\n    },\r\n    watch: {\r\n        content: function (content) {\r\n            $(this.$refs.summernote).summernote('code', content);\r\n        }\r\n    },\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/summernote/summernote.component.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"summernote\"})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2d1da166\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/summernote/summernote.component.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2d1da166\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./summernote.component.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!./summernote.component.js\"\nimport __vue_script__ from \"!!babel-loader!./summernote.component.js\"/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2d1da166\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./summernote.component.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/summernote/summernote.component.vue\n// module id = null\n// module chunks = ","import draggable from 'vuedraggable';\r\nimport FontAwesomeIcon from '@fortawesome/vue-fontawesome';\r\nimport { Floor, Floorplan } from './models';\r\nimport Storage from './storage';\r\nimport FloorGraph from './components/floor-graph/floor-graph.component.vue';\r\nimport Summernote from './components/summernote/summernote.component.vue';\r\n\r\nexport default {\r\n    name: 'App',\r\n    components: {\r\n        draggable,\r\n        FontAwesomeIcon,\r\n        FloorGraph,\r\n        Summernote,\r\n    },\r\n    computed: {\r\n        canGoDownALevel: function () {\r\n            return this.selectedFloorIndex !== 0;\r\n        },\r\n        canGoUpALevel: function () {\r\n            return this.selectedFloorIndex < (this.floorplan.floors.length - 1);\r\n        },\r\n        floor: function () {\r\n            return this.floorplan.floors[this.selectedFloorIndex];\r\n        },\r\n    },\r\n    data: function () {\r\n        return {\r\n            areaSelected: false,\r\n            floorplan: new Floorplan(),\r\n            storage: new Storage(),\r\n            editing: false,\r\n            selectedArea: { uid: '' },\r\n            selectedAreaIndex: -1,\r\n            selectedFloorIndex: 0,\r\n            showImageInputField: false,\r\n        }\r\n    },\r\n    mounted: function () {\r\n        this.floorplan = this.storage.getFloorplan() || new Floorplan();\r\n    },\r\n    methods: {\r\n        addFloor: function () {\r\n            this.resetSelectedArea();\r\n\r\n            this.floorplan.floors.push(new Floor({ name: 'New Floor' }));\r\n            this.storage.updateFloorplan(this.floorplan);\r\n\r\n            this.selectFloor(this.floorplan.floors.length - 1)\r\n        },\r\n        changeFloorOrder: function (evt) {\r\n            if (!evt.moved) {\r\n                return;\r\n            }\r\n\r\n            if (evt.moved.oldIndex === this.selectedFloorIndex) {\r\n                this.selectedFloorIndex = evt.moved.newIndex;\r\n            } else if (evt.moved.oldIndex < this.selectedFloorIndex && evt.moved.newIndex >= this.selectedFloorIndex) {\r\n                this.selectedFloorIndex -= 1;\r\n            } else if (evt.moved.oldIndex > this.selectedFloorIndex && evt.moved.newIndex <= this.selectedFloorIndex) {\r\n                this.selectedFloorIndex += 1;\r\n            }\r\n\r\n            this.storage.updateFloorplan(this.floorplan);\r\n        },\r\n        deleteArea: function () {\r\n            this.floorplan.floors[this.selectedFloorIndex].areas.splice(this.selectedAreaIndex, 1);\r\n            this.resetSelectedArea();\r\n        },\r\n        deleteFloor: function (index) {\r\n            this.floorplan.floors.splice(index, 1);\r\n            this.storage.updateFloorplan(this.floorplan);\r\n\r\n            let newFloorIndex = this.selectedFloorIndex;\r\n\r\n            if (index <= this.selectedFloorIndex) {\r\n                newFloorIndex = (this.selectedFloorIndex > 0 ? this.selectedFloorIndex - 1 : 0);\r\n            }\r\n\r\n            this.selectFloor(newFloorIndex);\r\n        },\r\n        download: function () {\r\n            if (!this.floor) {\r\n                return;\r\n            }\r\n\r\n            const element = document.createElement('a');\r\n            element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(this.storage.export()));\r\n\r\n            let exportName = 'floorplan';\r\n\r\n            if (this.floorplan.name !== '') {\r\n                exportName = this.floorplan.name;\r\n            }\r\n\r\n            element.setAttribute('download', exportName + '.json');\r\n\r\n            element.style.display = 'none';\r\n            document.body.appendChild(element);\r\n\r\n            element.click();\r\n\r\n            document.body.removeChild(element);\r\n        },\r\n        newFloorplan: function () {\r\n            this.storage.deleteFloorplan();\r\n            this.floorplan = new Floorplan();\r\n            this.storage.addFloorplan(this.floorplan);\r\n        },\r\n        selectArea: function (area) {\r\n            if (this.selectedArea.uid === area.uid) {\r\n                this.resetSelectedArea();\r\n            } else {\r\n                this.selectedArea = this.selectedArea.uid === area.uid ? { uid: '' } : area;\r\n                this.areaSelected = this.selectedArea.uid !== '';\r\n                this.selectedAreaIndex = this.floorplan.floors[this.selectedFloorIndex].areas.findIndex((a) => a.uid === this.selectedArea.uid);\r\n            }\r\n        },\r\n        selectFloor: function (index) {\r\n            if (index === this.selectedFloorIndex || index < 0 || index >= this.floorplan.floors.length) {\r\n                return;\r\n            }\r\n\r\n            this.selectedFloorIndex = index;\r\n        },\r\n        toggleEditMode: function () {\r\n            this.editing = !this.editing;\r\n\r\n            if (!this.editing) {\r\n                this.storage.updateFloorplan(this.floorplan);\r\n            }\r\n        },\r\n        toggleImageInputField: function () {\r\n            this.showImageInputField = !this.showImageInputField;\r\n        },\r\n        upload: function ($event) {\r\n            console.log($event);\r\n            if (!event.target.files.length > 0) {\r\n                return;\r\n            }\r\n\r\n            this.resetSelectedArea();\r\n\r\n            const file = event.target.files[0];\r\n            const fileReader = new FileReader();\r\n            fileReader.onload = () => {\r\n                this.storage.import(fileReader.result);\r\n                this.floorplan = this.storage.getFloorplan();\r\n                this.$refs.fileImportForm.reset();\r\n            }\r\n            fileReader.readAsText(file);\r\n        },\r\n        resetSelectedArea: function () {\r\n            this.selectedArea = { uid: '' };\r\n            this.selectedAreaIndex = -1;\r\n            this.areaSelected = false;\r\n        },\r\n        onBlur: function (type, value) {\r\n            switch (type) {\r\n                case 'floorDesc':\r\n                    this.floorplan.floors[this.selectedFloorIndex].description = value;\r\n                    break;\r\n                case 'areaName':\r\n                    this.floorplan.floors[this.selectedFloorIndex].areas[this.selectedAreaIndex].name = value;\r\n                    break;\r\n                case 'areaDesc':\r\n                    this.floorplan.floors[this.selectedFloorIndex].areas[this.selectedAreaIndex].description = value;\r\n                    break;\r\n                case 'areaHoverDesc':\r\n                    this.floorplan.floors[this.selectedFloorIndex].areas[this.selectedAreaIndex].hoverDescription = value;\r\n                    break;\r\n                default: // floorName, floorImage and floorplan settings\r\n                    break;\r\n            }\r\n\r\n            this.storage.updateFloorplan(this.floorplan);\r\n        },\r\n    }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.component.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-fluid bg-light\"},[_c('nav',{staticClass:\"navbar navbar-expand-sm fixed-top navbar-light bg-dark\"},[_c('a',{staticClass:\"navbar-brand text-white\",attrs:{\"href\":\"#\"}},[_vm._v(\"Floorplanner\")]),_vm._v(\" \"),_c('ul',{staticClass:\"navbar-nav mr-auto\"},[_c('li',{staticClass:\"nav-item dropdown\"},[_c('a',{staticClass:\"nav-link dropdown-toggle text-white\",attrs:{\"href\":\"#\",\"id\":\"fileDropdown\",\"role\":\"button\",\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\"}},[_vm._v(\"\\n                    Floorplan\\n                \")]),_vm._v(\" \"),_c('div',{staticClass:\"dropdown-menu\",attrs:{\"aria-labelledby\":\"fileDropdown\"}},[_c('button',{staticClass:\"dropdown-item\",on:{\"click\":function($event){_vm.newFloorplan()}}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'plus-square']}}),_vm._v(\"\\n                        New\\n                    \")],1),_vm._v(\" \"),_c('button',{staticClass:\"dropdown-item\",attrs:{\"href\":\"#\",\"role\":\"button\",\"data-toggle\":\"modal\",\"data-target\":\"#floorplanSettingsModal\"}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'cogs']}}),_vm._v(\"\\n                        Settings\\n                    \")],1),_vm._v(\" \"),_c('div',{staticClass:\"dropdown-divider\"}),_vm._v(\" \"),_c('button',{staticClass:\"dropdown-item\",on:{\"click\":function($event){_vm.$refs.fileImport.click()}}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'upload']}}),_vm._v(\"\\n                        Import\\n                    \")],1),_vm._v(\" \"),_c('form',{ref:\"fileImportForm\"},[_c('input',{ref:\"fileImport\",attrs:{\"id\":\"file-import\",\"type\":\"file\",\"accept\":\".json\"},on:{\"change\":function($event){_vm.upload($event)}}})]),_vm._v(\" \"),_c('button',{staticClass:\"dropdown-item\",class:{ disabled: !_vm.floor },on:{\"click\":function($event){_vm.download()}}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'download']}}),_vm._v(\"\\n                        Export\\n                    \")],1)])]),_vm._v(\" \"),_vm._m(0)]),_vm._v(\" \"),(_vm.floor)?_c('ul',{staticClass:\"nav navbar-nav navbar-right\"},[_c('li',[(!_vm.editing)?_c('button',{staticClass:\"btn navbar-btn btn-outline-warning show\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.toggleEditMode()}}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'edit']}}),_vm._v(\"\\n                    Edit\\n                \")],1):_vm._e(),_vm._v(\" \"),(_vm.editing)?_c('button',{staticClass:\"btn navbar-btn btn-outline-success edit\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.toggleEditMode()}}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'save']}}),_vm._v(\"\\n                    Save\\n                \")],1):_vm._e()])]):_vm._e()]),_vm._v(\" \"),(!_vm.floor)?_c('div',{staticClass:\"row\",attrs:{\"id\":\"getting-started\"}},[_c('div',{staticClass:\"col-sm-12 col-md-3 offset-md-3\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-img-top text-center bg-dark text-light\"},[_c('font-awesome-icon',{staticClass:\"fa-6x\",attrs:{\"icon\":['fas', 'plus-square']}})],1),_vm._v(\" \"),_vm._m(1)])]),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-12 col-md-3\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-img-top text-center bg-dark text-light\"},[_c('font-awesome-icon',{staticClass:\"fa-6x\",attrs:{\"icon\":['fas', 'play-circle']}})],1),_vm._v(\" \"),_vm._m(2)])])]):_vm._e(),_vm._v(\" \"),(_vm.floor)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-8\",attrs:{\"id\":\"left-side\"}},[_c('div',{staticClass:\"card\",attrs:{\"id\":\"floor-card\"}},[_c('div',{staticClass:\"card-header\"},[_c('h5',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editing),expression:\"!editing\"}]},[_vm._v(_vm._s(_vm.floor.name))]),_vm._v(\" \"),_c('h5',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editing),expression:\"editing\"}]},[_vm._v(\"Editing\")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\",attrs:{\"id\":\"floor-image-selector\"}},[_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showImageInputField),expression:\"showImageInputField\"},{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.floor.image),expression:\"floor.image\",modifiers:{\"lazy\":true}}],staticClass:\"form-control\",attrs:{\"type\":\"url\",\"placeholder\":\"Floor image\",\"aria-label\":\"Floor image\"},domProps:{\"value\":(_vm.floor.image)},on:{\"blur\":function($event){_vm.onBlur('floorImage', _vm.floor.image)},\"change\":function($event){_vm.$set(_vm.floor, \"image\", $event.target.value)}}}),_vm._v(\" \"),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-info\",class:{ 'inactive': !_vm.showImageInputField },attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.toggleImageInputField()}}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'image']}})],1)])])]),_vm._v(\" \"),_c('div',{staticClass:\"details\"},[_c('div',{staticClass:\"btn-group-vertical\",attrs:{\"id\":\"floor-selector\"}},[_c('button',{staticClass:\"btn btn-light\",attrs:{\"type\":\"button\",\"disabled\":!_vm.canGoUpALevel},on:{\"click\":function($event){_vm.selectFloor(_vm.selectedFloorIndex + 1)}}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'chevron-up']}})],1),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-light\",attrs:{\"type\":\"button\",\"disabled\":!_vm.canGoDownALevel},on:{\"click\":function($event){_vm.selectFloor(_vm.selectedFloorIndex - 1)}}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'chevron-down']}})],1)]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"floor\"}},[_c('img',{attrs:{\"src\":_vm.floor.image}}),_vm._v(\" \"),_c('floor-graph',{attrs:{\"editing\":_vm.editing,\"floor\":_vm.floor,\"selectedArea\":_vm.selectedArea,\"onAreaSelection\":_vm.selectArea}})],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editing),expression:\"!editing\"}],staticClass:\"card-body\",domProps:{\"innerHTML\":_vm._s(_vm.floor.description)}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editing),expression:\"editing\"}],staticClass:\"edit-card-body\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"edit-floor-name\"}},[_vm._v(\"Floor Name:\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.floor.name),expression:\"floor.name\"}],staticClass:\"form-control\",attrs:{\"id\":\"edit-floor-name\",\"type\":\"text\",\"placeholder\":\"Floor title\",\"aria-label\":\"Floor title\"},domProps:{\"value\":(_vm.floor.name)},on:{\"blur\":function($event){_vm.onBlur('floorName', _vm.floor.name)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.floor, \"name\", $event.target.value)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"edit-floor-desc\"}},[_vm._v(\"Description:\")]),_vm._v(\" \"),_c('summernote',{attrs:{\"id\":\"floorDesc\",\"height\":260,\"content\":_vm.floor.description,\"onBlur\":_vm.onBlur}})],1)])])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.areaSelected),expression:\"areaSelected\"}],staticClass:\"col-sm-4\",attrs:{\"id\":\"right-side\"}},[_c('div',{staticClass:\"card\",attrs:{\"id\":\"area-card\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editing),expression:\"!editing\"}],staticClass:\"card-header\"},[_c('h5',[_vm._v(_vm._s(_vm.selectedArea.name))])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editing),expression:\"!editing\"}],staticClass:\"card-body details\",domProps:{\"innerHTML\":_vm._s(_vm.selectedArea.description)}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editing),expression:\"editing\"}],staticClass:\"card-header\"},[_c('h5',[_vm._v(\"Editing Area\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editing),expression:\"editing\"}],staticClass:\"edit-card-body\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"edit-area-name\"}},[_vm._v(\"Area Name:\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedArea.name),expression:\"selectedArea.name\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.selectedArea.name)},on:{\"blur\":function($event){_vm.onBlur('areaName', _vm.selectedArea.name)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.selectedArea, \"name\", $event.target.value)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"edit-area-desc\"}},[_vm._v(\"Description:\")]),_vm._v(\" \"),_c('summernote',{attrs:{\"id\":\"areaDesc\",\"height\":200,\"content\":_vm.selectedArea.description,\"onBlur\":_vm.onBlur}})],1),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"edit-area-hover-desc\"}},[_vm._v(\"Hover Description:\")]),_vm._v(\" \"),_c('summernote',{attrs:{\"id\":\"areaHoverDesc\",\"height\":70,\"toolbar\":[['media', ['picture']]],\"content\":_vm.selectedArea.hoverDescription,\"onBlur\":_vm.onBlur}})],1),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-outline-danger\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.deleteArea()}}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'trash-alt']}}),_vm._v(\"\\n                        Delete Area\\n                    \")],1)])])])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"floorsModal\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"floorModalLabel\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog modal-lg\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_vm._m(3),_vm._v(\" \"),_c('div',{staticClass:\"modal-body\"},[_c('table',{staticClass:\"table text-center\"},[_vm._m(4),_vm._v(\" \"),_c('draggable',{attrs:{\"element\":'tbody'},on:{\"change\":_vm.changeFloorOrder},model:{value:(_vm.floorplan.floors),callback:function ($$v) {_vm.$set(_vm.floorplan, \"floors\", $$v)},expression:\"floorplan.floors\"}},_vm._l((_vm.floorplan.floors),function(listFloor,index){return _c('tr',{key:listFloor.uid,staticClass:\"drag-helper\"},[_c('td',[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'bars']}})],1),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(index + 1))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(listFloor.name))]),_vm._v(\" \"),_c('td',[_c('button',{staticClass:\"btn btn-link\",attrs:{\"title\":\"Set active floor\"},on:{\"click\":function($event){_vm.selectFloor(index)}}},[(listFloor.uid === _vm.floor.uid)?_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'toggle-on']}}):_vm._e(),_vm._v(\" \"),(listFloor.uid !== _vm.floor.uid)?_c('font-awesome-icon',{staticClass:\"text-secondary\",attrs:{\"icon\":['fas', 'toggle-off']}}):_vm._e()],1),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-link text-danger\",attrs:{\"title\":\"Delete floor\"},on:{\"click\":function($event){_vm.deleteFloor(index)}}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'trash-alt']}})],1)])])})),_vm._v(\" \"),_c('tfoot',[_c('tr',[_c('td',{attrs:{\"colspan\":\"4\"}},[_c('button',{staticClass:\"btn btn-success btn-block\",on:{\"click\":function($event){_vm.addFloor()}}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'plus']}}),_vm._v(\"\\n                                        Add floor\\n                                    \")],1)])])])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"modal-footer\"},[_c('div',{staticClass:\"mr-auto py-1 px-2 text-info\"},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'info-circle']}}),_vm._v(\"\\n                        Floors can be reordered using drag-and-drop\\n                    \")],1),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"Close\")])])])])]),_vm._v(\" \"),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"floorplanSettingsModal\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"floorModalLabel\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog modal-lg\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_vm._m(5),_vm._v(\" \"),_c('div',{staticClass:\"modal-body\"},[_c('form',[_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"col-form-label\",attrs:{\"for\":\"floorplan-name\"}},[_vm._v(\"Name:\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.floorplan.name),expression:\"floorplan.name\"}],staticClass:\"form-control\",attrs:{\"id\":\"floorplan-name\",\"type\":\"text\",\"placeholder\":\"Floorplan name\"},domProps:{\"value\":(_vm.floorplan.name)},on:{\"blur\":function($event){_vm.onBlur('floorplanName', _vm.floorplan.name)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.floorplan, \"name\", $event.target.value)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"col-form-label\",attrs:{\"for\":\"floorplan-description\"}},[_vm._v(\"Description:\")]),_vm._v(\" \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.floorplan.description),expression:\"floorplan.description\"}],staticClass:\"form-control\",attrs:{\"id\":\"floorplan-description\",\"rows\":\"5\",\"placeholder\":\"Optional description\"},domProps:{\"value\":(_vm.floorplan.description)},on:{\"blur\":function($event){_vm.onBlur('floorplanDesc', _vm.floorplan.description)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.floorplan, \"description\", $event.target.value)}}})])])]),_vm._v(\" \"),_vm._m(6)])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link text-white\",attrs:{\"href\":\"#\",\"role\":\"button\",\"data-toggle\":\"modal\",\"data-target\":\"#floorsModal\"}},[_vm._v(\"\\n                    Manage Floors\\n                \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-body\"},[_c('h4',{staticClass:\"card-title\"},[_vm._v(\"New\")]),_vm._v(\" \"),_c('p',{staticClass:\"card-text\"},[_vm._v(\"To get started, select \\\"Manage Floors\\\" and add a new floor.\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-body\"},[_c('h4',{staticClass:\"card-title\"},[_vm._v(\"Continue\")]),_vm._v(\" \"),_c('p',{staticClass:\"card-text\"},[_vm._v(\"To continue working on a previous floorplan, select \\\"Floorplan\\\" and then \\\"Import\\\"\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\"},[_vm._v(\"Manage floors\")]),_vm._v(\" \"),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{staticClass:\"drag-helper-column\"}),_vm._v(\" \"),_c('th',[_vm._v(\"Position\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Name\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Options\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\"},[_vm._v(\"Floorplan settings\")]),_vm._v(\" \"),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"Close\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-84cb4f7a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/app.component.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-84cb4f7a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./app.component.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!./app.component.js\"\nimport __vue_script__ from \"!!babel-loader!./app.component.js\"/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-84cb4f7a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./app.component.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app.component.vue\n// module id = null\n// module chunks = ","// Import all the things\r\nimport 'popper.js';\r\nimport 'bootstrap';\r\nimport 'codemirror';\r\nimport 'codemirror/mode/xml/xml';\r\nimport 'summernote/dist/summernote-bs4';\r\nimport jQuery from 'jquery';\r\nimport Vue from 'vue';\r\n\r\n// Have to import it here, as importing it in the stylesheet causes\r\n// issues with the fonts paths not being resolved properly\r\nimport 'summernote/dist/summernote-bs4.css';\r\n\r\n// Used fontawesome icons\r\nimport fontawesome from '@fortawesome/fontawesome';\r\nimport {\r\n    faBars,\r\n    faChevronDown,\r\n    faChevronUp,\r\n    faCogs,\r\n    faDownload,\r\n    faEdit,\r\n    faImage,\r\n    faInfoCircle,\r\n    faPlayCircle,\r\n    faPlus,\r\n    faPlusSquare,\r\n    faSave,\r\n    faToggleOff,\r\n    faToggleOn,\r\n    faTrashAlt,\r\n    faUpload,\r\n} from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport App from './app.component.vue';\r\n\r\nwindow.$ = jQuery;\r\nwindow.jQuery = jQuery;\r\n\r\nfontawesome.library.add(\r\n    faBars,\r\n    faChevronDown,\r\n    faChevronUp,\r\n    faCogs,\r\n    faDownload,\r\n    faEdit,\r\n    faImage,\r\n    faInfoCircle,\r\n    faPlayCircle,\r\n    faPlus,\r\n    faPlusSquare,\r\n    faSave,\r\n    faToggleOff,\r\n    faToggleOn,\r\n    faTrashAlt,\r\n    faUpload);\r\n\r\nVue.config.productionTip = false;\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n    el: '#app',\r\n    render: h => h(App),\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}