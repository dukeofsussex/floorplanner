webpackJsonp([1],{"24TP":function(t,e){},"3EAg":function(t,e){},NHnr:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});o("Zgw8"),o("K3J8"),o("8U58"),o("ezqs"),o("MhkJ");var a=o("7t+N"),s=o.n(a),n=o("/5sW"),i=(o("tthM"),o("QxPg")),r=o("fhbW"),l=o("DAYN"),d=o.n(l),c=o("U0v6"),h=o.n(c),u=o("Zrlr"),p=o.n(u);function f(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",o=0;o<5;o+=1)e+=t.charAt(Math.floor(Math.random()*t.length));return e}var v=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.name,a=void 0===o?"":o,s=e.description,n=void 0===s?"":s,i=e.hoverDescription,r=void 0===i?"":i,l=e.points,d=void 0===l?[]:l;p()(this,t),this.uid=f(),this.name=a,this.description=n,this.hoverDescription=r,this.points=d},m=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.image,a=void 0===o?"":o,s=e.name,n=void 0===s?"":s,i=e.description,r=void 0===i?"":i,l=e.areas,d=void 0===l?[]:l;p()(this,t),this.uid=f(),this.image=a,this.name=n,this.description=r,this.areas=d},g=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.name,a=void 0===o?"":o,s=e.description,n=void 0===s?"":s,i=e.floors,r=void 0===i?[]:i;p()(this,t),this.name=a,this.description=n,this.floors=r},w=function t(e,o){p()(this,t),this.x=e,this.y=o},b=o("mvHQ"),_=o.n(b),x=o("wxAW"),y=o.n(x),C=function(){function t(){p()(this,t),this.localStorageKey="floorplanner:floorplan",null===localStorage.getItem(this.localStorageKey)?this.floorplan=null:this.floorplan=JSON.parse(localStorage.getItem(this.localStorageKey))}return y()(t,[{key:"import",value:function(t){this.floorplan=JSON.parse(t),this.saveToLocalStorage()}},{key:"export",value:function(){return _()(this.floorplan)}},{key:"addFloorplan",value:function(t){this.floorplan=t,this.saveToLocalStorage()}},{key:"getFloorplan",value:function(){return this.floorplan}},{key:"updateFloorplan",value:function(t){this.floorplan=t,this.saveToLocalStorage()}},{key:"deleteFloorplan",value:function(){this.floorplan=null,this.deleteLocalStorage()}},{key:"saveToLocalStorage",value:function(){localStorage.setItem(this.localStorageKey,_()(this.floorplan))}},{key:"deleteLocalStorage",value:function(){localStorage.removeItem(this.localStorageKey)}}]),t}(),A=o("Gu7T"),F=o.n(A),I=o("vwbq"),k=0,S=0,P=0,M=0,D={name:"floorGraph",data:function(){return{drawingPoints:[]}},props:["editing","floor","selectedArea","onAreaSelection"],mounted:function(){this.init(),this.drawAreas(this.floor.areas)},watch:{floor:{handler:function(t,e){t.areas&&t.areas.length>0&&(this.reflectChanges(),this.drawAreas(t.areas))},deep:!0},editing:function(){this.reflectChanges(),this.drawAreas(this.areas)},selectedArea:function(){this.reflectChanges(),this.drawAreas(this.areas)}},methods:{init:function(){var t=this,e=I.d(this.$refs.floor);this.dimensions=e.node().getBoundingClientRect(),this.width=this.dimensions.width-M-S,this.height=this.dimensions.height-k-P,e.attr("width",this.width+M+S).attr("height",this.height+k+P),this.graph=e.append("g").attr("transform","translate("+M+", "+k+")"),this.graph.append("rect").attr("width","100%").attr("height","100%").attr("fill","transparent"),this.graph.on("click",function(){""!==t.selectedArea.uid&&t.editing?t.addPolygonPoint(I.c(this)):t.editing&&t.draw(I.c(this))}).on("mousemove",function(){""===t.selectedArea.uid&&0!==t.drawingPoints.length&&t.editing&&(t.polygonDrawingGroup.select("line").remove(),t.polygonDrawingGroup.append("line").attr("x1",t.drawingPoints[t.drawingPoints.length-1].x).attr("y1",t.drawingPoints[t.drawingPoints.length-1].y).attr("x2",I.c(this)[0]).attr("y2",I.c(this)[1]))}),this.polygonDrawingGroup=this.graph.append("g").attr("class","polygon-drawing"),this.areasGroup=this.graph.append("g").attr("class","areas"),this.tooltip=I.d("body").append("div").attr("id","tooltip").attr("class","card").style("opacity",0)},addPolygonPoint:function(t){var e=new w(Math.round(t[0]),Math.round(t[1])),o=0,a=this.width;if(this.selectedArea.points.length>2){for(var s=1;s<this.selectedArea.points.length;s+=1){var n=this.distanceFromLine(e,this.selectedArea.points[s-1],this.selectedArea.points[s]),i=this.getClosestPointOnLine(e,this.selectedArea.points[s-1],this.selectedArea.points[s]);n<a&&this.pointIsBetween(i,this.selectedArea.points[s-1],this.selectedArea.points[s])&&(o=s,a=n)}var r=this.distanceFromLine(e,this.selectedArea.points[this.selectedArea.points.length-1],this.selectedArea.points[0]),l=this.getClosestPointOnLine(e,this.selectedArea.points[this.selectedArea.points.length-1],this.selectedArea.points[0]);r<a&&this.pointIsBetween(l,this.selectedArea.points[this.selectedArea.points.length-1],this.selectedArea.points[0])&&(o=this.selectedArea.points.length,a=r),this.selectedArea.points=[].concat(F()(this.selectedArea.points.slice(0,o)),[e],F()(this.selectedArea.points.slice(o)))}else this.selectedArea.points.push(e);this.drawAreas(this.areas,this.editing)},draw:function(t){var e=this;if(I.b.target.hasAttribute("is-handle"))this.closePolygon();else{this.drawingPoints.push(new w(Math.round(t[0]),Math.round(t[1]))),this.polygonDrawingGroup.select("line").remove(),this.polygonDrawingGroup.select("polyline").remove(),this.polygonDrawingGroup.append("polyline").attr("points",function(){return e.drawingPoints.map(function(t){return[t.x,t.y].join(",")}).join(" ")});var o=this.polygonDrawingGroup.selectAll("circle").data(this.drawingPoints,function(t){return t.x+"#"+t.y});o.enter().append("circle").attr("cx",function(t,o){return e.drawingPoints[o].x}).attr("cy",function(t,o){return e.drawingPoints[o].y}).attr("r",4).attr("is-handle","true"),o.exit().remove()}},closePolygon:function(){this.areas.push(new v({points:this.drawingPoints})),this.polygonDrawingGroup.selectAll("*").remove(),this.drawingPoints=[],this.drawAreas(this.areas,this.editing),this.onAreaSelection(this.areas[this.areas.length-1])},drawAreas:function(t){var e=this,o=this;this.areas=t;var a=this.areasGroup.selectAll("g.area").data(t,function(t){return t.uid});a.exit().remove();var s=a.enter().append("g").merge(a).attr("class","area"),n=s.selectAll("polygon").data(function(t){return[{uid:t.uid,name:t.name,hoverDesc:t.hoverDescription,points:t.points}]});n.exit().remove(),n.enter().append("polygon").merge(n).attr("points",function(t){return t.points.map(function(t){return[t.x,t.y].join(",")}).join(" ")}).attr("class",function(t){return t.uid===e.selectedArea.uid?"active":""}).on("click",function(o,a,s){I.b.stopPropagation(),e.drawAreas(t,e.editing),e.onAreaSelection(I.d(s[a].parentNode).datum())}).on("mouseover",function(t){e.editing||(e.tooltip.html("<h6>"+t.name+"</h6>"+t.hoverDesc),e.tooltip.style("opacity",1))}).on("mousemove",function(){this.editing||o.tooltip.style("left",I.b.clientX+15+"px").style("top",I.b.clientY-10+"px")}).on("mouseout",function(){e.editing||e.tooltip.style("opacity",0)});var i=s.selectAll("circle").data(function(t){return e.editing&&t.uid===e.selectedArea.uid?t.points:[]},function(t){return t.x+"#"+t.y});i.enter().append("circle").merge(i).attr("r",4).attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}).attr("class","active").on("click",function(o,a,s){I.b.stopPropagation();var n=I.d(s[a].parentNode).datum().points;if(1!==n.length){var i=n.findIndex(function(t){return t.x===o.x&&t.y===o.y});n.splice(i,1),e.drawAreas(t,e.editing)}}).call(I.a().on("start",function(){I.d(this).classed("drag",!0)}).on("drag",function(e){var a=e;I.d(this).attr("cx",a.x=I.b.x).attr("cy",a.y=I.b.y),o.drawAreas(t,o.editing)}).on("end",function(){I.d(this).classed("drag",!1)})),i.exit().remove()},distance:function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},distanceFromLine:function(t,e,o){return Math.abs((o.y-e.y)*t.x-(o.x-e.x)*t.y+(o.x*e.y-o.y*e.x))/this.distance(e,o)},pointIsBetween:function(t,e,o){return Math.round(this.distance(e,t))+Math.round(this.distance(t,o))<=Math.round(this.distance(e,o))+1&&Math.round(this.distance(e,t))+Math.round(this.distance(t,o))>=Math.round(this.distance(e,o))-1},getClosestPointOnLine:function(t,e,o){var a=((t.x-e.x)*(o.x-e.x)+(t.y-e.y)*(o.y-e.y))/(Math.pow(o.x-e.x,2)+Math.pow(o.y-e.y,2));return{x:e.x+a*(o.x-e.x),y:e.y+a*(o.y-e.y)}},reflectChanges:function(){this.drawingPoints=[],this.polygonDrawingGroup.selectAll("*").remove()}}},N={render:function(){var t=this.$createElement;return(this._self._c||t)("svg",{ref:"floor",attrs:{id:"floor-graph",viewBox:"0 0 920 690"}})},staticRenderFns:[]};var L=o("VU/8")(D,N,!1,function(t){o("24TP")},null,null).exports,B={name:"summernote",props:{id:String,content:{default:"",type:String},height:{default:null,type:Number},toolbar:{default:null,type:Array},onBlur:Function},mounted:function(){var t=this,e={height:this.height,focus:!1,callbacks:{onBlur:function(e){return t.onBlur(t.id,$(t.$refs.summernote).summernote("code"),e)}}};this.toolbar&&(e.toolbar=this.toolbar),$(this.$refs.summernote).summernote(e),$(this.$refs.summernote).summernote("code",this.content)},beforeDestroy:function(){$(this.$refs.summernote).summernote("destroy")},watch:{content:function(t){$(this.$refs.summernote).summernote("code",t)}}},E={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"summernote"})},staticRenderFns:[]};var G=o("VU/8")(B,E,!1,function(t){o("3EAg")},null,null).exports,T={name:"App",components:{draggable:d.a,FontAwesomeIcon:h.a,FloorGraph:L,Summernote:G},computed:{canGoDownALevel:function(){return 0!==this.selectedFloorIndex},canGoUpALevel:function(){return this.selectedFloorIndex<this.floorplan.floors.length-1},floor:function(){return this.floorplan.floors[this.selectedFloorIndex]}},data:function(){return{areaSelected:!1,floorplan:new g,storage:new C,editing:!1,selectedArea:{uid:""},selectedAreaIndex:-1,selectedFloorIndex:0,showImageInputField:!1}},mounted:function(){this.floorplan=this.storage.getFloorplan()||new g},methods:{addFloor:function(){this.resetSelectedArea(),this.floorplan.floors.push(new m({name:"New Floor"})),this.storage.updateFloorplan(this.floorplan),this.selectFloor(this.floorplan.floors.length-1)},changeFloorOrder:function(t){t.moved&&(t.moved.oldIndex===this.selectedFloorIndex?this.selectedFloorIndex=t.moved.newIndex:t.moved.oldIndex<this.selectedFloorIndex&&t.moved.newIndex>=this.selectedFloorIndex?this.selectedFloorIndex-=1:t.moved.oldIndex>this.selectedFloorIndex&&t.moved.newIndex<=this.selectedFloorIndex&&(this.selectedFloorIndex+=1),this.storage.updateFloorplan(this.floorplan))},deleteArea:function(){this.floorplan.floors[this.selectedFloorIndex].areas.splice(this.selectedAreaIndex,1),this.resetSelectedArea()},deleteFloor:function(t){this.floorplan.floors.splice(t,1),this.storage.updateFloorplan(this.floorplan);var e=this.selectedFloorIndex;t<=this.selectedFloorIndex&&(e=this.selectedFloorIndex>0?this.selectedFloorIndex-1:0),this.selectFloor(e)},download:function(){if(this.floor){var t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(this.storage.export()));var e="floorplan";""!==this.floorplan.name&&(e=this.floorplan.name),t.setAttribute("download",e+".json"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}},newFloorplan:function(){this.storage.deleteFloorplan(),this.floorplan=new g,this.storage.addFloorplan(this.floorplan)},selectArea:function(t){var e=this;this.selectedArea.uid===t.uid?this.resetSelectedArea():(this.selectedArea=this.selectedArea.uid===t.uid?{uid:""}:t,this.areaSelected=""!==this.selectedArea.uid,this.selectedAreaIndex=this.floorplan.floors[this.selectedFloorIndex].areas.findIndex(function(t){return t.uid===e.selectedArea.uid}))},selectFloor:function(t){t===this.selectedFloorIndex||t<0||t>=this.floorplan.floors.length||(this.selectedFloorIndex=t)},toggleEditMode:function(){this.editing=!this.editing,this.editing||this.storage.updateFloorplan(this.floorplan)},toggleImageInputField:function(){this.showImageInputField=!this.showImageInputField},upload:function(t){var e=this;if(console.log(t),!(!event.target.files.length>0)){this.resetSelectedArea();var o=event.target.files[0],a=new FileReader;a.onload=function(){e.storage.import(a.result),e.floorplan=e.storage.getFloorplan(),e.$refs.fileImportForm.reset()},a.readAsText(o)}},resetSelectedArea:function(){this.selectedArea={uid:""},this.selectedAreaIndex=-1,this.areaSelected=!1},onBlur:function(t,e){switch(t){case"floorDesc":this.floorplan.floors[this.selectedFloorIndex].description=e;break;case"areaName":this.floorplan.floors[this.selectedFloorIndex].areas[this.selectedAreaIndex].name=e;break;case"areaDesc":this.floorplan.floors[this.selectedFloorIndex].areas[this.selectedAreaIndex].description=e;break;case"areaHoverDesc":this.floorplan.floors[this.selectedFloorIndex].areas[this.selectedAreaIndex].hoverDescription=e}this.storage.updateFloorplan(this.floorplan)}}},O={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container-fluid bg-light"},[o("nav",{staticClass:"navbar navbar-expand-sm fixed-top navbar-light bg-dark"},[o("a",{staticClass:"navbar-brand text-white",attrs:{href:"#"}},[t._v("Floorplanner")]),t._v(" "),o("ul",{staticClass:"navbar-nav mr-auto"},[o("li",{staticClass:"nav-item dropdown"},[o("a",{staticClass:"nav-link dropdown-toggle text-white",attrs:{href:"#",id:"fileDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n                    Floorplan\n                ")]),t._v(" "),o("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"fileDropdown"}},[o("button",{staticClass:"dropdown-item",on:{click:function(e){t.newFloorplan()}}},[o("font-awesome-icon",{attrs:{icon:["fas","plus-square"]}}),t._v("\n                        New\n                    ")],1),t._v(" "),o("button",{staticClass:"dropdown-item",attrs:{href:"#",role:"button","data-toggle":"modal","data-target":"#floorplanSettingsModal"}},[o("font-awesome-icon",{attrs:{icon:["fas","cogs"]}}),t._v("\n                        Settings\n                    ")],1),t._v(" "),o("div",{staticClass:"dropdown-divider"}),t._v(" "),o("button",{staticClass:"dropdown-item",on:{click:function(e){t.$refs.fileImport.click()}}},[o("font-awesome-icon",{attrs:{icon:["fas","upload"]}}),t._v("\n                        Import\n                    ")],1),t._v(" "),o("form",{ref:"fileImportForm"},[o("input",{ref:"fileImport",attrs:{id:"file-import",type:"file",accept:".json"},on:{change:function(e){t.upload(e)}}})]),t._v(" "),o("button",{staticClass:"dropdown-item",class:{disabled:!t.floor},on:{click:function(e){t.download()}}},[o("font-awesome-icon",{attrs:{icon:["fas","download"]}}),t._v("\n                        Export\n                    ")],1)])]),t._v(" "),t._m(0)]),t._v(" "),t.floor?o("ul",{staticClass:"nav navbar-nav navbar-right"},[o("li",[t.editing?t._e():o("button",{staticClass:"btn navbar-btn btn-outline-warning show",attrs:{type:"button"},on:{click:function(e){t.toggleEditMode()}}},[o("font-awesome-icon",{attrs:{icon:["fas","edit"]}}),t._v("\n                    Edit\n                ")],1),t._v(" "),t.editing?o("button",{staticClass:"btn navbar-btn btn-outline-success edit",attrs:{type:"button"},on:{click:function(e){t.toggleEditMode()}}},[o("font-awesome-icon",{attrs:{icon:["fas","save"]}}),t._v("\n                    Save\n                ")],1):t._e()])]):t._e()]),t._v(" "),t.floor?t._e():o("div",{staticClass:"row",attrs:{id:"getting-started"}},[o("div",{staticClass:"col-sm-12 col-md-3 offset-md-3"},[o("div",{staticClass:"card"},[o("div",{staticClass:"card-img-top text-center bg-dark text-light"},[o("font-awesome-icon",{staticClass:"fa-6x",attrs:{icon:["fas","plus-square"]}})],1),t._v(" "),t._m(1)])]),t._v(" "),o("div",{staticClass:"col-sm-12 col-md-3"},[o("div",{staticClass:"card"},[o("div",{staticClass:"card-img-top text-center bg-dark text-light"},[o("font-awesome-icon",{staticClass:"fa-6x",attrs:{icon:["fas","play-circle"]}})],1),t._v(" "),t._m(2)])])]),t._v(" "),t.floor?o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-8",attrs:{id:"left-side"}},[o("div",{staticClass:"card",attrs:{id:"floor-card"}},[o("div",{staticClass:"card-header"},[o("h5",{directives:[{name:"show",rawName:"v-show",value:!t.editing,expression:"!editing"}]},[t._v(t._s(t.floor.name))]),t._v(" "),o("h5",{directives:[{name:"show",rawName:"v-show",value:t.editing,expression:"editing"}]},[t._v("Editing")]),t._v(" "),o("div",{staticClass:"input-group",attrs:{id:"floor-image-selector"}},[o("input",{directives:[{name:"show",rawName:"v-show",value:t.showImageInputField,expression:"showImageInputField"},{name:"model",rawName:"v-model.lazy",value:t.floor.image,expression:"floor.image",modifiers:{lazy:!0}}],staticClass:"form-control",attrs:{type:"url",placeholder:"Floor image","aria-label":"Floor image"},domProps:{value:t.floor.image},on:{blur:function(e){t.onBlur("floorImage",t.floor.image)},change:function(e){t.$set(t.floor,"image",e.target.value)}}}),t._v(" "),o("div",{staticClass:"input-group-append"},[o("button",{staticClass:"btn btn-info",class:{inactive:!t.showImageInputField},attrs:{type:"button"},on:{click:function(e){t.toggleImageInputField()}}},[o("font-awesome-icon",{attrs:{icon:["fas","image"]}})],1)])])]),t._v(" "),o("div",{staticClass:"details"},[o("div",{staticClass:"btn-group-vertical",attrs:{id:"floor-selector"}},[o("button",{staticClass:"btn btn-light",attrs:{type:"button",disabled:!t.canGoUpALevel},on:{click:function(e){t.selectFloor(t.selectedFloorIndex+1)}}},[o("font-awesome-icon",{attrs:{icon:["fas","chevron-up"]}})],1),t._v(" "),o("button",{staticClass:"btn btn-light",attrs:{type:"button",disabled:!t.canGoDownALevel},on:{click:function(e){t.selectFloor(t.selectedFloorIndex-1)}}},[o("font-awesome-icon",{attrs:{icon:["fas","chevron-down"]}})],1)]),t._v(" "),o("div",{attrs:{id:"floor"}},[o("img",{attrs:{src:t.floor.image}}),t._v(" "),o("floor-graph",{attrs:{editing:t.editing,floor:t.floor,selectedArea:t.selectedArea,onAreaSelection:t.selectArea}})],1),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:!t.editing,expression:"!editing"}],staticClass:"card-body",domProps:{innerHTML:t._s(t.floor.description)}}),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.editing,expression:"editing"}],staticClass:"edit-card-body"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"edit-floor-name"}},[t._v("Floor Name:")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.floor.name,expression:"floor.name"}],staticClass:"form-control",attrs:{id:"edit-floor-name",type:"text",placeholder:"Floor title","aria-label":"Floor title"},domProps:{value:t.floor.name},on:{blur:function(e){t.onBlur("floorName",t.floor.name)},input:function(e){e.target.composing||t.$set(t.floor,"name",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"edit-floor-desc"}},[t._v("Description:")]),t._v(" "),o("summernote",{attrs:{id:"floorDesc",height:260,content:t.floor.description,onBlur:t.onBlur}})],1)])])])]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.areaSelected,expression:"areaSelected"}],staticClass:"col-sm-4",attrs:{id:"right-side"}},[o("div",{staticClass:"card",attrs:{id:"area-card"}},[o("div",{directives:[{name:"show",rawName:"v-show",value:!t.editing,expression:"!editing"}],staticClass:"card-header"},[o("h5",[t._v(t._s(t.selectedArea.name))])]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:!t.editing,expression:"!editing"}],staticClass:"card-body details",domProps:{innerHTML:t._s(t.selectedArea.description)}}),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.editing,expression:"editing"}],staticClass:"card-header"},[o("h5",[t._v("Editing Area")])]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.editing,expression:"editing"}],staticClass:"edit-card-body"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"edit-area-name"}},[t._v("Area Name:")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedArea.name,expression:"selectedArea.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.selectedArea.name},on:{blur:function(e){t.onBlur("areaName",t.selectedArea.name)},input:function(e){e.target.composing||t.$set(t.selectedArea,"name",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"edit-area-desc"}},[t._v("Description:")]),t._v(" "),o("summernote",{attrs:{id:"areaDesc",height:200,content:t.selectedArea.description,onBlur:t.onBlur}})],1),t._v(" "),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"edit-area-hover-desc"}},[t._v("Hover Description:")]),t._v(" "),o("summernote",{attrs:{id:"areaHoverDesc",height:70,toolbar:[["media",["picture"]]],content:t.selectedArea.hoverDescription,onBlur:t.onBlur}})],1),t._v(" "),o("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:function(e){t.deleteArea()}}},[o("font-awesome-icon",{attrs:{icon:["fas","trash-alt"]}}),t._v("\n                        Delete Area\n                    ")],1)])])])]):t._e(),t._v(" "),o("div",{staticClass:"modal fade",attrs:{id:"floorsModal",tabindex:"-1",role:"dialog","aria-labelledby":"floorModalLabel","aria-hidden":"true"}},[o("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[o("div",{staticClass:"modal-content"},[t._m(3),t._v(" "),o("div",{staticClass:"modal-body"},[o("table",{staticClass:"table text-center"},[t._m(4),t._v(" "),o("draggable",{attrs:{element:"tbody"},on:{change:t.changeFloorOrder},model:{value:t.floorplan.floors,callback:function(e){t.$set(t.floorplan,"floors",e)},expression:"floorplan.floors"}},t._l(t.floorplan.floors,function(e,a){return o("tr",{key:e.uid,staticClass:"drag-helper"},[o("td",[o("font-awesome-icon",{attrs:{icon:["fas","bars"]}})],1),t._v(" "),o("td",[t._v(t._s(a+1))]),t._v(" "),o("td",[t._v(t._s(e.name))]),t._v(" "),o("td",[o("button",{staticClass:"btn btn-link",attrs:{title:"Set active floor"},on:{click:function(e){t.selectFloor(a)}}},[e.uid===t.floor.uid?o("font-awesome-icon",{attrs:{icon:["fas","toggle-on"]}}):t._e(),t._v(" "),e.uid!==t.floor.uid?o("font-awesome-icon",{staticClass:"text-secondary",attrs:{icon:["fas","toggle-off"]}}):t._e()],1),t._v(" "),o("button",{staticClass:"btn btn-link text-danger",attrs:{title:"Delete floor"},on:{click:function(e){t.deleteFloor(a)}}},[o("font-awesome-icon",{attrs:{icon:["fas","trash-alt"]}})],1)])])})),t._v(" "),o("tfoot",[o("tr",[o("td",{attrs:{colspan:"4"}},[o("button",{staticClass:"btn btn-success btn-block",on:{click:function(e){t.addFloor()}}},[o("font-awesome-icon",{attrs:{icon:["fas","plus"]}}),t._v("\n                                        Add floor\n                                    ")],1)])])])],1)]),t._v(" "),o("div",{staticClass:"modal-footer"},[o("div",{staticClass:"mr-auto py-1 px-2 text-info"},[o("font-awesome-icon",{attrs:{icon:["fas","info-circle"]}}),t._v("\n                        Floors can be reordered using drag-and-drop\n                    ")],1),t._v(" "),o("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])])])]),t._v(" "),o("div",{staticClass:"modal fade",attrs:{id:"floorplanSettingsModal",tabindex:"-1",role:"dialog","aria-labelledby":"floorModalLabel","aria-hidden":"true"}},[o("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[o("div",{staticClass:"modal-content"},[t._m(5),t._v(" "),o("div",{staticClass:"modal-body"},[o("form",[o("div",{staticClass:"form-group"},[o("label",{staticClass:"col-form-label",attrs:{for:"floorplan-name"}},[t._v("Name:")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.floorplan.name,expression:"floorplan.name"}],staticClass:"form-control",attrs:{id:"floorplan-name",type:"text",placeholder:"Floorplan name"},domProps:{value:t.floorplan.name},on:{blur:function(e){t.onBlur("floorplanName",t.floorplan.name)},input:function(e){e.target.composing||t.$set(t.floorplan,"name",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"form-group"},[o("label",{staticClass:"col-form-label",attrs:{for:"floorplan-description"}},[t._v("Description:")]),t._v(" "),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.floorplan.description,expression:"floorplan.description"}],staticClass:"form-control",attrs:{id:"floorplan-description",rows:"5",placeholder:"Optional description"},domProps:{value:t.floorplan.description},on:{blur:function(e){t.onBlur("floorplanDesc",t.floorplan.description)},input:function(e){e.target.composing||t.$set(t.floorplan,"description",e.target.value)}}})])])]),t._v(" "),t._m(6)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link text-white",attrs:{href:"#",role:"button","data-toggle":"modal","data-target":"#floorsModal"}},[this._v("\n                    Manage Floors\n                ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-body"},[e("h4",{staticClass:"card-title"},[this._v("New")]),this._v(" "),e("p",{staticClass:"card-text"},[this._v('To get started, select "Manage Floors" and add a new floor.')])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-body"},[e("h4",{staticClass:"card-title"},[this._v("Continue")]),this._v(" "),e("p",{staticClass:"card-text"},[this._v('To continue working on a previous floorplan, select "Floorplan" and then "Import"')])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[this._v("Manage floors")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{staticClass:"drag-helper-column"}),this._v(" "),e("th",[this._v("Position")]),this._v(" "),e("th",[this._v("Name")]),this._v(" "),e("th",[this._v("Options")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[this._v("Floorplan settings")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[this._v("Close")])])}]};var j=o("VU/8")(T,O,!1,function(t){o("ZJsL")},null,null).exports;window.$=s.a,window.jQuery=s.a,i.default.library.add(r.a,r.b,r.c,r.d,r.e,r.f,r.g,r.h,r.i,r.j,r.k,r.l,r.m,r.n,r.o,r.p),n.a.config.productionTip=!1,new n.a({el:"#app",render:function(t){return t(j)}})},ZJsL:function(t,e){},tthM:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.f9c698e12c86a9244e72.js.map